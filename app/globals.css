@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================= Theme ================= */
:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Z-index policy */
  --z-map: 0;                /* Map & tiles */
  --z-leaflet-overlay: 20;   /* Leaflet popup/tooltip/controls */
  --z-switcher: 900;         /* Vehicle switcher */
  --z-tabs: 1200;            /* Bottom tabs bar */
  --z-pop: 1600;             /* dropdown/select popovers */
  --z-toast: 2000;           /* Toaster */
  --z-dialog: 3000;          /* Modal/Dialog */
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }

  /* DatePicker dark mode */
  .react-datepicker,
  .react-datepicker__header {
    background-color: #1a1a1a !important;
    color: #00d289 !important;
  }
  .react-datepicker__day { color: #dddddd !important; }
  .react-datepicker__day--selected {
    background-color: #00d289 !important;
    color: #ffffff !important;
  }
  .react-datepicker__day--today {
    color: #00d289 !important; /* üîß tr√°nh ch·ªØ tr·∫Øng */
    font-weight: bold;
  }
  .react-datepicker__day:hover {
    background-color: #00d289 !important;
    color: #ffffff !important;
  }
  .react-datepicker__day-name,
  .react-datepicker__current-month { color: #00d289 !important; }
}

/* ================ Base layout ================ */
html, body, #__next, #root { height: 100%; }
html, body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
  margin: 0; padding: 0;
  overflow-x: hidden;
}

/* ============= DatePicker (light + dark) ============= */
.react-datepicker {
  background-color: #fff !important;
  color: #00d289 !important;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.react-datepicker__header {
  background-color: #fff !important;
  color: #00d289 !important;
  border-bottom: 2px solid #00d289;
}
.react-datepicker__day { color: #333; }
.react-datepicker__day--selected {
  background-color: #00d289 !important;
  color: #fff !important;
  border-radius: 50%;
}
.react-datepicker__current-month,
.react-datepicker-time__header,
.react-datepicker-year-header,
.react-datepicker__day-name { color: #00d289 !important; }
/* üîß s·ª≠a m√†u today ·ªü light mode (tr∆∞·ªõc ƒëang ƒë·ªÉ tr·∫Øng) */
.react-datepicker__day--today { font-weight: bold; color: #00d289 !important; }
.react-datepicker__day:hover {
  background-color: #00d289 !important;
  color: #fff !important;
}
.react-datepicker__navigation { top: 12px; }
.react-datepicker__navigation--previous { left: 10px; }
.react-datepicker__navigation--next { right: 10px; }

/* Leaflet: tr·∫≠t t·ª± l·ªõp r√µ r√†ng */
.leaflet-container { z-index: 0 !important; }

/* panes theo ƒë√∫ng th·ª© t·ª± */
.leaflet-tile-pane        { z-index: 10 !important; }
.leaflet-overlay-pane     { z-index: 20 !important; }
.leaflet-marker-pane      { z-index: 800 !important; }   /* marker d∆∞·ªõi popup */
.leaflet-tooltip-pane     { z-index: 900 !important; }
.leaflet-popup-pane       { z-index: 1000 !important; }  /* ‚¨ÖÔ∏è popup cao nh·∫•t */

/* controls c≈©ng d∆∞·ªõi popup */
.leaflet-top, .leaflet-bottom, .leaflet-control { z-index: 700 !important; }


/* ============= App UI layers (ti·ªán √≠ch) ============= */
/* Vehicle switcher (n·∫øu component g·∫Øn class n√†y) */
.bb-vehicle-switcher { z-index: var(--z-switcher) !important; }

/* Tabs c·ªë ƒë·ªãnh ƒë√°y */
.bb-tabs-bottom {
  z-index: var(--z-tabs) !important;
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 8px);
}

/* Popovers c·ªßa dropdown/select */
.dropdown-menu,
.select-popover,
.react-select__menu {
  position: relative;
  z-index: var(--z-pop) !important;
}

/* Toaster/sonner */
.bb-toast { z-index: var(--z-toast) !important; }

/* Dialog/Modal/Notifications */
.bb-dialog,
[data-radix-poppers-content-wrapper] {
  z-index: var(--z-dialog) !important;
}

/* ============= Misc ============= */
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.no-scrollbar::-webkit-scrollbar { display: none; }

/* ƒê·∫£m b·∫£o popper c·ªßa react-datepicker n·ªïi tr√™n m·ªçi l·ªõp */
.react-datepicker-popper { z-index: 60 !important; }
.react-datepicker { font-size: 0.95rem; }
