{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/firebaseConfig.ts"],"sourcesContent":["// src/firebaseConfig.ts\r\n// ‚úÖ C·∫•u h√¨nh v√† kh·ªüi t·∫°o Firebase (Client SDK)\r\n\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {\r\n  getAuth,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n} from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  doc,\r\n  setDoc,\r\n  getDoc,\r\n} from \"firebase/firestore\";\r\n\r\n// üîê C·∫•u h√¨nh Firebase (n√™n d√πng bi·∫øn m√¥i tr∆∞·ªùng trong production)\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDZVAxSNVaAzCdZBS-5Wx1r_1aFNQgl5tE\",\r\n  authDomain: \"ebikerental-e1178.firebaseapp.com\",\r\n  projectId: \"ebikerental-e1178\",\r\n  storageBucket: \"ebikerental-e1178.appspot.com\", // s·ª≠a l·∫°i ƒë√∫ng .app**spot**\r\n  messagingSenderId: \"319881394948\",\r\n  appId: \"1:319881394948:web:a2141deb07a03c5054ae51\",\r\n};\r\n\r\n// ‚úÖ Kh·ªüi t·∫°o Firebase App\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// ‚úÖ Kh·ªüi t·∫°o c√°c d·ªãch v·ª• Firebase c·∫ßn d√πng\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\nconst provider = new GoogleAuthProvider();\r\n\r\n// ‚úÖ Export c√°c th√†nh ph·∫ßn c·∫ßn d√πng\r\nexport {\r\n  auth,\r\n  db,\r\n  provider,\r\n  signInWithPopup,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  doc,\r\n  setDoc,\r\n  getDoc,\r\n};\r\n"],"names":[],"mappings":"AAAA,wBAAwB;AACxB,+CAA+C;;;;;;AAE/C;AAAA;AACA;AAAA;AAAA;AAOA;AAAA;;;;AAOA,mEAAmE;AACnE,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAEA,0BAA0B;AAC1B,MAAM,MAAM,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE;AAE1B,2CAA2C;AAC3C,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE;AACxB,MAAM,WAAW,IAAI,wNAAA,CAAA,qBAAkB","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/services/staff/staffService.tsx"],"sourcesContent":["// lib/staff/staffService.ts\r\n\r\nimport {\r\n    collection,\r\n    addDoc,\r\n    updateDoc,\r\n    deleteDoc,\r\n    getDocs,\r\n    doc,\r\n    getDoc,\r\n    serverTimestamp,\r\n    query,\r\n    where\r\n  } from 'firebase/firestore';\r\n  import { db } from '@/src/firebaseConfig';\r\n  import { Staff } from '@/src/lib/staff/staffTypes';\r\n  \r\n  const STAFF_COLLECTION = 'staffs';\r\n  \r\n  export const getAllStaffs = async (companyId: string): Promise<Staff[]> => {\r\n    const q = query(collection(db, STAFF_COLLECTION), where('companyId', '==', companyId));\r\n    const snapshot = await getDocs(q);\r\n    return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Staff));\r\n  };\r\n  \r\n  export const getStaffById = async (id: string): Promise<Staff | null> => {\r\n    const docRef = doc(db, STAFF_COLLECTION, id);\r\n    const snapshot = await getDoc(docRef);\r\n    return snapshot.exists() ? ({ id: snapshot.id, ...snapshot.data() } as Staff) : null;\r\n  };\r\n  \r\n  export const createStaff = async (data: Omit<Staff, 'id' | 'createdAt' | 'updatedAt'>): Promise<Staff> => {\r\n    const newDoc = await addDoc(collection(db, STAFF_COLLECTION), {\r\n      ...data,\r\n      createdAt: serverTimestamp(),\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n    return { id: newDoc.id, ...data, createdAt: serverTimestamp(), updatedAt: serverTimestamp() } as Staff;\r\n  };\r\n  \r\n  export const updateStaff = async (id: string, data: Partial<Staff>) => {\r\n    const docRef = doc(db, STAFF_COLLECTION, id);\r\n    await updateDoc(docRef, {\r\n      ...data,\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n  };\r\n  \r\n  export const deleteStaff = async (id: string) => {\r\n    const docRef = doc(db, STAFF_COLLECTION, id);\r\n    await deleteDoc(docRef);\r\n  };\r\n  "],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;;AAE5B;AAAA;AAYE;AAAA;;;AAGA,MAAM,mBAAmB;AAElB,MAAM,eAAe,OAAO;IACjC,MAAM,IAAI,CAAA,GAAA,iKAAA,CAAA,QAAK,AAAD,EAAE,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE,qIAAA,CAAA,KAAE,EAAE,mBAAmB,CAAA,GAAA,iKAAA,CAAA,QAAK,AAAD,EAAE,aAAa,MAAM;IAC3E,MAAM,WAAW,MAAM,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAE;IAC/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;YAAE,IAAI,IAAI,EAAE;YAAE,GAAG,IAAI,IAAI,EAAE;QAAC,CAAU;AACzE;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,SAAS,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,qIAAA,CAAA,KAAE,EAAE,kBAAkB;IACzC,MAAM,WAAW,MAAM,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EAAE;IAC9B,OAAO,SAAS,MAAM,KAAM;QAAE,IAAI,SAAS,EAAE;QAAE,GAAG,SAAS,IAAI,EAAE;IAAC,IAAc;AAClF;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,SAAS,MAAM,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE,qIAAA,CAAA,KAAE,EAAE,mBAAmB;QAC5D,GAAG,IAAI;QACP,WAAW,CAAA,GAAA,iKAAA,CAAA,kBAAe,AAAD;QACzB,WAAW,CAAA,GAAA,iKAAA,CAAA,kBAAe,AAAD;IAC3B;IACA,OAAO;QAAE,IAAI,OAAO,EAAE;QAAE,GAAG,IAAI;QAAE,WAAW,CAAA,GAAA,iKAAA,CAAA,kBAAe,AAAD;QAAK,WAAW,CAAA,GAAA,iKAAA,CAAA,kBAAe,AAAD;IAAI;AAC9F;AAEO,MAAM,cAAc,OAAO,IAAY;IAC5C,MAAM,SAAS,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,qIAAA,CAAA,KAAE,EAAE,kBAAkB;IACzC,MAAM,CAAA,GAAA,iKAAA,CAAA,YAAS,AAAD,EAAE,QAAQ;QACtB,GAAG,IAAI;QACP,WAAW,CAAA,GAAA,iKAAA,CAAA,kBAAe,AAAD;IAC3B;AACF;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,SAAS,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,qIAAA,CAAA,KAAE,EAAE,kBAAkB;IACzC,MAAM,CAAA,GAAA,iKAAA,CAAA,YAAS,AAAD,EAAE;AAClB","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/app/my-business/staff/page.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { Staff } from '@/src/lib/staff/staffTypes';\r\nimport {\r\n  updateStaff,\r\n  deleteStaff,\r\n} from '@/src/lib/services/staff/staffService';\r\nimport { db } from '@/src/firebaseConfig';\r\nimport {\r\n  collection,\r\n  onSnapshot,\r\n  query,\r\n  where,\r\n} from 'firebase/firestore';\r\n\r\nexport function useStaffData(companyId?: string) {\r\n  const [staffs, setStaffs] = useState<Staff[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let q;\r\n    if (companyId) {\r\n      q = query(collection(db, 'staffs'), where('companyId', '==', companyId));\r\n    } else {\r\n      q = query(collection(db, 'staffs')); // Admin: get all\r\n    }\r\n\r\n    const unsubscribe = onSnapshot(\r\n      q,\r\n      (snapshot) => {\r\n        const updatedStaffs: Staff[] = snapshot.docs.map((doc) => ({\r\n          ...(doc.data() as Staff),\r\n          id: doc.id,\r\n        }));\r\n        setStaffs(updatedStaffs);\r\n        setLoading(false);\r\n      },\r\n      (error) => {\r\n        console.error('Realtime fetch staff error:', error);\r\n        setLoading(false);\r\n      }\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [companyId]);\r\n\r\n  const handleCreate = async () => {\r\n    console.warn('handleCreate is disabled. Staffs should be invited via invitation flow.');\r\n  };\r\n\r\n  const handleUpdate = async (id: string, data: Partial<Staff>) => {\r\n    try {\r\n      await updateStaff(id, data);\r\n    } catch (error) {\r\n      console.error('Failed to update staff:', error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    try {\r\n      await deleteStaff(id);\r\n    } catch (error) {\r\n      console.error('Failed to delete staff:', error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    staffs,\r\n    loading,\r\n    handleCreate,\r\n    handleUpdate,\r\n    handleDelete,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AAEA;AAIA;AAAA;AACA;AAAA;;;;;AAOO,SAAS,aAAa,SAAkB;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI;QACJ,IAAI,WAAW;YACb,IAAI,CAAA,GAAA,iKAAA,CAAA,QAAK,AAAD,EAAE,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE,qIAAA,CAAA,KAAE,EAAE,WAAW,CAAA,GAAA,iKAAA,CAAA,QAAK,AAAD,EAAE,aAAa,MAAM;QAC/D,OAAO;YACL,IAAI,CAAA,GAAA,iKAAA,CAAA,QAAK,AAAD,EAAE,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE,qIAAA,CAAA,KAAE,EAAE,YAAY,iBAAiB;QACxD;QAEA,MAAM,cAAc,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAC3B,GACA,CAAC;YACC,MAAM,gBAAyB,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,MAAQ,CAAC;oBACzD,GAAI,IAAI,IAAI,EAAE;oBACd,IAAI,IAAI,EAAE;gBACZ,CAAC;YACD,UAAU;YACV,WAAW;QACb,GACA,CAAC;YACC,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,WAAW;QACb;QAGF,OAAO,IAAM;IACf,GAAG;QAAC;KAAU;IAEd,MAAM,eAAe;QACnB,QAAQ,IAAI,CAAC;IACf;IAEA,MAAM,eAAe,OAAO,IAAY;QACtC,IAAI;YACF,MAAM,CAAA,GAAA,gJAAA,CAAA,cAAW,AAAD,EAAE,IAAI;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,CAAA,GAAA,gJAAA,CAAA,cAAW,AAAD,EAAE;QACpB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}}]
}