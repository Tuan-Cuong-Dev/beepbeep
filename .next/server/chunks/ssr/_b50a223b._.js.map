{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/hooks/useSubscriptionPackageData.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { db } from '@/src/firebaseConfig';\r\nimport { \r\n  collection, \r\n  addDoc, \r\n  updateDoc, \r\n  deleteDoc, \r\n  getDocs, \r\n  doc, \r\n  query, \r\n  where, \r\n  serverTimestamp \r\n} from 'firebase/firestore';\r\nimport { SubscriptionPackage } from '@/src/lib/subscriptionPackages/subscriptionPackagesType';\r\n\r\nexport function useSubscriptionPackageData(companyId: string) {\r\n  const [packages, setPackages] = useState<SubscriptionPackage[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchPackages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const q = query(collection(db, 'subscriptionPackages'), where('companyId', '==', companyId));\r\n      const querySnapshot = await getDocs(q);\r\n      const data = querySnapshot.docs.map(docSnap => ({\r\n        id: docSnap.id,\r\n        ...docSnap.data()\r\n      })) as SubscriptionPackage[];\r\n      setPackages(data);\r\n    } catch (err) {\r\n      console.error('❌ Failed to fetch subscription packages:', err);\r\n      setError('Failed to load packages.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const createPackage = async (pkg: Omit<SubscriptionPackage, 'id' | 'createdAt' | 'updatedAt'>) => {\r\n    try {\r\n      const docRef = await addDoc(collection(db, 'subscriptionPackages'), {\r\n        ...pkg,\r\n        createdAt: serverTimestamp(),\r\n        updatedAt: serverTimestamp(),\r\n      });\r\n      setPackages(prev => [...prev, { ...pkg, id: docRef.id, createdAt: new Date(), updatedAt: new Date() }]);\r\n    } catch (err) {\r\n      console.error('❌ Failed to create subscription package:', err);\r\n      setError('Failed to create package.');\r\n    }\r\n  };\r\n\r\n  const updatePackage = async (id: string, pkg: Partial<SubscriptionPackage>) => {\r\n    try {\r\n      const docRef = doc(db, 'subscriptionPackages', id);\r\n      await updateDoc(docRef, {\r\n        ...pkg,\r\n        updatedAt: serverTimestamp(),\r\n      });\r\n      setPackages(prev =>\r\n        prev.map(p => (p.id === id ? { ...p, ...pkg, updatedAt: new Date() } : p))\r\n      );\r\n    } catch (err) {\r\n      console.error('❌ Failed to update subscription package:', err);\r\n      setError('Failed to update package.');\r\n    }\r\n  };\r\n\r\n  const deletePackage = async (id: string) => {\r\n    try {\r\n      const docRef = doc(db, 'subscriptionPackages', id);\r\n      await deleteDoc(docRef);\r\n      setPackages(prev => prev.filter(p => p.id !== id));\r\n    } catch (err) {\r\n      console.error('❌ Failed to delete subscription package:', err);\r\n      setError('Failed to delete package.');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (companyId) {\r\n      fetchPackages();\r\n    }\r\n  }, [companyId]);\r\n\r\n  return {\r\n    packages,\r\n    loading,\r\n    error,\r\n    fetchPackages,\r\n    createPackage,\r\n    updatePackage,\r\n    deletePackage,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/button.tsx"],"sourcesContent":["import { ReactNode } from 'react';\r\n\r\ntype ButtonVariant =\r\n  | 'default'\r\n  | 'ghost'\r\n  | 'outline'\r\n  | 'secondary'\r\n  | 'danger'\r\n  | 'greenOutline'\r\n  | 'destructive';\r\n\r\ninterface ButtonProps {\r\n  className?: string;\r\n  children: ReactNode;\r\n  onClick?: () => void;\r\n  type?: 'button' | 'submit' | 'reset';\r\n  variant?: ButtonVariant;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport const Button = ({\r\n  className = '',\r\n  children,\r\n  onClick,\r\n  type = 'button',\r\n  variant = 'default',\r\n  disabled = false,\r\n}: ButtonProps) => {\r\n  const baseClass =\r\n    'inline-flex items-center justify-center px-4 py-2 font-semibold rounded-md transition-all text-sm';\r\n\r\n  const variantClass: Record<ButtonVariant, string> = {\r\n    default: 'bg-[#00d289] text-white border border-[#00d289] hover:bg-[#00b67a]',\r\n    ghost: 'bg-transparent text-[#00d289] border border-transparent hover:bg-[#e6fff5]',\r\n    outline: 'bg-white text-[#00d289] border border-[#00d289] hover:bg-[#f0fdf8]',\r\n    secondary: 'bg-gray-100 text-gray-800 border border-gray-300 hover:bg-gray-200',\r\n    danger: 'bg-red-500 text-white border border-red-500 hover:bg-red-600',\r\n    greenOutline: 'bg-transparent text-[#00d289] border border-[#00d289] hover:bg-[#00d289]/10',\r\n    destructive: 'bg-white text-red-600 border border-red-500 hover:bg-red-50',\r\n  };\r\n\r\n  const disabledClass = disabled ? 'opacity-50 pointer-events-none cursor-not-allowed' : '';\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      disabled={disabled}\r\n      className={`${baseClass} ${variantClass[variant]} ${disabledClass} ${className}`}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAoBO,MAAM,SAAS,CAAC,EACrB,YAAY,EAAE,EACd,QAAQ,EACR,OAAO,EACP,OAAO,QAAQ,EACf,UAAU,SAAS,EACnB,WAAW,KAAK,EACJ;IACZ,MAAM,YACJ;IAEF,MAAM,eAA8C;QAClD,SAAS;QACT,OAAO;QACP,SAAS;QACT,WAAW;QACX,QAAQ;QACR,cAAc;QACd,aAAa;IACf;IAEA,MAAM,gBAAgB,WAAW,sDAAsD;IAEvF,qBACE,8OAAC;QACC,MAAM;QACN,UAAU;QACV,WAAW,GAAG,UAAU,CAAC,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,cAAc,CAAC,EAAE,WAAW;QAChF,SAAS;kBAER;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/utils/formatCurrency.ts"],"sourcesContent":["export function formatCurrency(value: number | string): string {\r\n    const num = typeof value === 'string' ? parseFloat(value) : value;\r\n    if (isNaN(num)) return '';\r\n    return num.toLocaleString('en-US');\r\n  }\r\n  "],"names":[],"mappings":";;;AAAO,SAAS,eAAe,KAAsB;IACjD,MAAM,MAAM,OAAO,UAAU,WAAW,WAAW,SAAS;IAC5D,IAAI,MAAM,MAAM,OAAO;IACvB,OAAO,IAAI,cAAc,CAAC;AAC5B","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/subscriptionPackage/SubscriptionPackageTable.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { SubscriptionPackage } from '@/src/lib/subscriptionPackages/subscriptionPackagesType';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { formatCurrency } from '@/src/utils/formatCurrency';\r\nimport { format } from 'date-fns';\r\n\r\ninterface Props {\r\n  packages: SubscriptionPackage[];\r\n  onEdit: (pkg: SubscriptionPackage) => void;\r\n  onDelete: (id: string) => void;\r\n}\r\n\r\nexport default function SubscriptionPackageTable({ packages, onEdit, onDelete }: Props) {\r\n  return (\r\n    <div className=\"bg-white shadow rounded-xl p-4 overflow-x-auto mt-4\">\r\n      <table className=\"min-w-full border border-gray-200 text-sm\">\r\n        <thead className=\"bg-gray-100\">\r\n          <tr>\r\n            <th className=\"px-3 py-2 border\">Package Name</th>\r\n            <th className=\"px-3 py-2 border\">Duration</th>\r\n            <th className=\"px-3 py-2 border\">KM Limit</th>\r\n            <th className=\"px-3 py-2 border\">Charging</th>\r\n            <th className=\"px-3 py-2 border\">Base Price</th>\r\n            <th className=\"px-3 py-2 border\">Overage Rate</th>\r\n            <th className=\"px-3 py-2 border\">Created At</th>\r\n            <th className=\"px-3 py-2 border\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {packages.map((pkg) => (\r\n            <tr key={pkg.id}>\r\n              <td className=\"px-3 py-2 border\">{pkg.name}</td>\r\n              <td className=\"px-3 py-2 border capitalize\">{pkg.durationType}</td>\r\n              <td className=\"px-3 py-2 border text-center\">{pkg.kmLimit ?? 'Unlimited'}</td>\r\n              <td className=\"px-3 py-2 border capitalize\">{pkg.chargingMethod}</td>\r\n              <td className=\"px-3 py-2 border text-right\">{formatCurrency(pkg.basePrice)}</td>\r\n              <td className=\"px-3 py-2 border text-right\">{pkg.overageRate !== null ? formatCurrency(pkg.overageRate) : '-'}</td>\r\n              <td className=\"px-3 py-2 border\">{pkg.createdAt?.toDate ? format(pkg.createdAt.toDate(), 'yyyy-MM-dd') : '-'}</td>\r\n              <td className=\"px-3 py-2 border text-center space-x-2\">\r\n                <Button  onClick={() => onEdit(pkg)}>Edit</Button>\r\n                <Button variant=\"destructive\" onClick={() => onDelete(pkg.id!)}>Delete</Button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          {packages.length === 0 && (\r\n            <tr>\r\n              <td colSpan={8} className=\"text-center py-6 text-gray-500\">\r\n                No subscription packages found.\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAae,SAAS,yBAAyB,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAS;IACpF,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAM,WAAU;;8BACf,8OAAC;oBAAM,WAAU;8BACf,cAAA,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;0CACjC,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;0CACjC,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;0CACjC,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;0CACjC,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;0CACjC,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;0CACjC,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;0CACjC,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;;;;;;;;;;;;8BAGrC,8OAAC;;wBACE,SAAS,GAAG,CAAC,CAAC,oBACb,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAoB,IAAI,IAAI;;;;;;kDAC1C,8OAAC;wCAAG,WAAU;kDAA+B,IAAI,YAAY;;;;;;kDAC7D,8OAAC;wCAAG,WAAU;kDAAgC,IAAI,OAAO,IAAI;;;;;;kDAC7D,8OAAC;wCAAG,WAAU;kDAA+B,IAAI,cAAc;;;;;;kDAC/D,8OAAC;wCAAG,WAAU;kDAA+B,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD,EAAE,IAAI,SAAS;;;;;;kDACzE,8OAAC;wCAAG,WAAU;kDAA+B,IAAI,WAAW,KAAK,OAAO,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD,EAAE,IAAI,WAAW,IAAI;;;;;;kDAC1G,8OAAC;wCAAG,WAAU;kDAAoB,IAAI,SAAS,EAAE,SAAS,CAAA,GAAA,qJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,SAAS,CAAC,MAAM,IAAI,gBAAgB;;;;;;kDACzG,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC,kIAAA,CAAA,SAAM;gDAAE,SAAS,IAAM,OAAO;0DAAM;;;;;;0DACrC,8OAAC,kIAAA,CAAA,SAAM;gDAAC,SAAQ;gDAAc,SAAS,IAAM,SAAS,IAAI,EAAE;0DAAI;;;;;;;;;;;;;+BAV3D,IAAI,EAAE;;;;;wBAchB,SAAS,MAAM,KAAK,mBACnB,8OAAC;sCACC,cAAA,8OAAC;gCAAG,SAAS;gCAAG,WAAU;0CAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzE","debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/input.tsx"],"sourcesContent":["import { ReactNode, InputHTMLAttributes } from 'react';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  className?: string;\r\n  icon?: ReactNode;\r\n}\r\n\r\nexport const Input = ({ className = '', icon, ...props }: InputProps) => {\r\n  return (\r\n    <div className={`flex items-center border border-[#00d289] rounded-sm p-2 ${className}`}>\r\n      {icon && <span className=\"mr-2\">{icon}</span>}\r\n      <input\r\n        className=\"flex-1 outline-none bg-transparent\"\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAOO,MAAM,QAAQ,CAAC,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,GAAG,OAAmB;IAClE,qBACE,8OAAC;QAAI,WAAW,CAAC,yDAAyD,EAAE,WAAW;;YACpF,sBAAQ,8OAAC;gBAAK,WAAU;0BAAQ;;;;;;0BACjC,8OAAC;gBACC,WAAU;gBACT,GAAG,KAAK;;;;;;;;;;;;AAIjB","debugId":null}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/utils.ts"],"sourcesContent":["// src/lib/utils.ts\r\nexport function cn(...args: any[]) {\r\n    return args.filter(Boolean).join(\" \");\r\n  }\r\n  "],"names":[],"mappings":"AAAA,mBAAmB;;;;AACZ,SAAS,GAAG,GAAG,IAAW;IAC7B,OAAO,KAAK,MAAM,CAAC,SAAS,IAAI,CAAC;AACnC","debugId":null}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/src/lib/utils\";\r\n\r\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        ref={ref}\r\n        className={cn(\r\n          \"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00d289] focus:border-transparent\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nTextarea.displayName = \"Textarea\";\r\n\r\nexport { Textarea };\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAIA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8LACA;QAED,GAAG,KAAK;;;;;;AAGf;AAGF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ReactNode, useState, useRef, useEffect } from \"react\";\r\n\r\ninterface SelectProps {\r\n  className?: string;\r\n  children: ReactNode;\r\n  placeholder?: string;\r\n  value?: string;\r\n  onChange?: (value: string) => void;\r\n}\r\n\r\ninterface SelectItemProps {\r\n  value: string;\r\n  children: ReactNode;\r\n  onSelect: (value: string, label: string) => void;\r\n}\r\n\r\nexport const Select = ({\r\n  className = \"\",\r\n  children,\r\n}: {\r\n  className?: string;\r\n  children: ReactNode;\r\n}) => {\r\n  return <div className={`relative ${className}`}>{children}</div>;\r\n};\r\n\r\nexport const SelectTrigger = ({\r\n  className = \"\",\r\n  value,\r\n  placeholder,\r\n  onClick,\r\n}: {\r\n  className?: string;\r\n  value?: string;\r\n  placeholder?: string;\r\n  onClick?: () => void;\r\n}) => {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n      className={`w-full text-left px-4 py-2 border  rounded-sm ${className}`}\r\n    >\r\n      {value || placeholder || \"Select...\"}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const SelectContent = ({\r\n  className = \"\",\r\n  children,\r\n  open,\r\n}: {\r\n  className?: string;\r\n  children: ReactNode;\r\n  open: boolean;\r\n}) => {\r\n  if (!open) return null;\r\n  return (\r\n    <div\r\n      className={`absolute z-10 mt-2 w-full bg-white rounded-lg shadow-lg ${className}`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectItem = ({ value, children, onSelect }: SelectItemProps) => {\r\n  return (\r\n    <div\r\n      className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\r\n      onClick={() => onSelect(value, children?.toString() || \"\")}\r\n      role=\"option\"\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Wrapper Component để dễ sử dụng\r\nexport const SimpleSelect = ({\r\n  options,\r\n  placeholder = \"Select...\",\r\n  value,\r\n  onChange,\r\n  className,\r\n}: {\r\n  options: { label: string; value: string }[];\r\n  placeholder?: string;\r\n  value?: string;\r\n  onChange: (val: string) => void;\r\n  className?: string;\r\n}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedLabel, setSelectedLabel] = useState<string | undefined>(\r\n    options.find((opt) => opt.value === value)?.label\r\n  );\r\n\r\n  const wrapperRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (\r\n        wrapperRef.current &&\r\n        !wrapperRef.current.contains(event.target as Node)\r\n      ) {\r\n        setOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <Select className={className}>\r\n      <div ref={wrapperRef}>\r\n        <SelectTrigger\r\n          value={selectedLabel}\r\n          placeholder={placeholder}\r\n          onClick={() => setOpen(!open)}\r\n        />\r\n        <SelectContent open={open}>\r\n          {options.map((opt) => (\r\n            <SelectItem\r\n              key={opt.value}\r\n              value={opt.value}\r\n              onSelect={(val, label) => {\r\n                onChange(val);\r\n                setSelectedLabel(label);\r\n                setOpen(false);\r\n              }}\r\n            >\r\n              {opt.label}\r\n            </SelectItem>\r\n          ))}\r\n        </SelectContent>\r\n      </div>\r\n    </Select>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAEA;AAFA;;;AAkBO,MAAM,SAAS,CAAC,EACrB,YAAY,EAAE,EACd,QAAQ,EAIT;IACC,qBAAO,8OAAC;QAAI,WAAW,CAAC,SAAS,EAAE,WAAW;kBAAG;;;;;;AACnD;AAEO,MAAM,gBAAgB,CAAC,EAC5B,YAAY,EAAE,EACd,KAAK,EACL,WAAW,EACX,OAAO,EAMR;IACC,qBACE,8OAAC;QACC,MAAK;QACL,SAAS;QACT,WAAW,CAAC,8CAA8C,EAAE,WAAW;kBAEtE,SAAS,eAAe;;;;;;AAG/B;AAEO,MAAM,gBAAgB,CAAC,EAC5B,YAAY,EAAE,EACd,QAAQ,EACR,IAAI,EAKL;IACC,IAAI,CAAC,MAAM,OAAO;IAClB,qBACE,8OAAC;QACC,WAAW,CAAC,wDAAwD,EAAE,WAAW;kBAEhF;;;;;;AAGP;AAEO,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAmB;IACvE,qBACE,8OAAC;QACC,WAAU;QACV,SAAS,IAAM,SAAS,OAAO,UAAU,cAAc;QACvD,MAAK;kBAEJ;;;;;;AAGP;AAGO,MAAM,eAAe,CAAC,EAC3B,OAAO,EACP,cAAc,WAAW,EACzB,KAAK,EACL,QAAQ,EACR,SAAS,EAOV;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAC/C,QAAQ,IAAI,CAAC,CAAC,MAAQ,IAAI,KAAK,KAAK,QAAQ;IAG9C,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAE1C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,qBAAqB,CAAC;YAC1B,IACE,WAAW,OAAO,IAClB,CAAC,WAAW,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GACzC;gBACA,QAAQ;YACV;QACF;QACA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;IACzD,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAO,WAAW;kBACjB,cAAA,8OAAC;YAAI,KAAK;;8BACR,8OAAC;oBACC,OAAO;oBACP,aAAa;oBACb,SAAS,IAAM,QAAQ,CAAC;;;;;;8BAE1B,8OAAC;oBAAc,MAAM;8BAClB,QAAQ,GAAG,CAAC,CAAC,oBACZ,8OAAC;4BAEC,OAAO,IAAI,KAAK;4BAChB,UAAU,CAAC,KAAK;gCACd,SAAS;gCACT,iBAAiB;gCACjB,QAAQ;4BACV;sCAEC,IAAI,KAAK;2BARL,IAAI,KAAK;;;;;;;;;;;;;;;;;;;;;AAe5B","debugId":null}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/subscriptionPackage/SubscriptionPackageForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { SubscriptionPackage, DurationType, ChargingMethod } from '@/src/lib/subscriptionPackages/subscriptionPackagesType';\r\nimport { Input } from '@/src/components/ui/input';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { Textarea } from '@/src/components/ui/textarea';\r\nimport { SimpleSelect } from '@/src/components/ui/select';\r\n\r\ninterface Props {\r\n  initialData?: SubscriptionPackage; // Nếu có thì là edit mode, không có thì là create\r\n  onSave: (data: Omit<SubscriptionPackage, 'id' | 'createdAt' | 'updatedAt'>) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport default function SubscriptionPackageForm({ initialData, onSave, onCancel }: Props) {\r\n  const [form, setForm] = useState<Omit<SubscriptionPackage, 'id' | 'createdAt' | 'updatedAt'>>({\r\n    companyId: '',\r\n    name: '',\r\n    durationType: 'daily',\r\n    kmLimit: null,\r\n    chargingMethod: 'swap',\r\n    basePrice: 0,\r\n    overageRate: null,\r\n    note: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      const { id, createdAt, updatedAt, ...rest } = initialData;\r\n      setForm(rest);\r\n    }\r\n  }, [initialData]);\r\n\r\n  const handleChange = (key: keyof typeof form, value: any) => {\r\n    setForm(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!form.name || !form.durationType || !form.chargingMethod || form.basePrice <= 0) {\r\n      alert('Please fill out required fields.');\r\n      return;\r\n    }\r\n    onSave(form);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"bg-white p-4 rounded-xl shadow space-y-4\">\r\n      <div>\r\n        <label className=\"block mb-1 font-semibold\">Package Name *</label>\r\n        <Input value={form.name} onChange={(e) => handleChange('name', e.target.value)} required />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 font-semibold\">Duration Type *</label>\r\n        <SimpleSelect\r\n          value={form.durationType}\r\n          onChange={(val) => handleChange('durationType', val as DurationType)}\r\n          options={[\r\n            { label: 'Daily', value: 'daily' },\r\n            { label: 'Monthly', value: 'monthly' },\r\n          ]}\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 font-semibold\">KM Limit (leave blank for unlimited)</label>\r\n        <Input\r\n          type=\"number\"\r\n          value={form.kmLimit ?? ''}\r\n          onChange={(e) => handleChange('kmLimit', e.target.value ? parseInt(e.target.value) : null)}\r\n          min={0}\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 font-semibold\">Charging Method *</label>\r\n        <SimpleSelect\r\n          value={form.chargingMethod}\r\n          onChange={(val) => handleChange('chargingMethod', val as ChargingMethod)}\r\n          options={[\r\n            { label: 'Swap Battery', value: 'swap' },\r\n            { label: 'Self Charge', value: 'self' },\r\n          ]}\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 font-semibold\">Base Price (VND) *</label>\r\n        <Input\r\n          type=\"number\"\r\n          value={form.basePrice}\r\n          onChange={(e) => handleChange('basePrice', parseInt(e.target.value))}\r\n          min={0}\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 font-semibold\">Overage Rate (VND/km)</label>\r\n        <Input\r\n          type=\"number\"\r\n          value={form.overageRate ?? ''}\r\n          onChange={(e) => handleChange('overageRate', e.target.value ? parseInt(e.target.value) : null)}\r\n          min={0}\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 font-semibold\">Notes</label>\r\n        <Textarea\r\n          value={form.note ?? ''}\r\n          onChange={(e) => handleChange('note', e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"flex justify-end space-x-2\">\r\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel}>Cancel</Button>\r\n        <Button type=\"submit\">{initialData ? 'Update' : 'Create'}</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 878, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/subscriptionPackages/importSubscriptionPackages.tsx"],"sourcesContent":["import * as XLSX from 'xlsx';\r\nimport { SubscriptionPackage } from './subscriptionPackagesType';\r\n\r\nexport async function importSubscriptionPackagesFromExcel(file: File, companyId: string) {\r\n  return new Promise<Omit<SubscriptionPackage, 'id' | 'createdAt' | 'updatedAt'>[]>((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const data = new Uint8Array(e.target?.result as ArrayBuffer);\r\n      const workbook = XLSX.read(data, { type: 'array' });\r\n      const sheet = workbook.Sheets[workbook.SheetNames[0]];\r\n      const jsonData = XLSX.utils.sheet_to_json<any>(sheet);\r\n\r\n      const packages = jsonData.map((row) => ({\r\n        companyId,\r\n        name: row['Package Name'] || '',\r\n        durationType: row['Duration Type'] === 'monthly' ? 'monthly' : 'daily',\r\n        kmLimit: row['KM Limit'] === 'Unlimited' ? null : parseInt(row['KM Limit']),\r\n        chargingMethod: row['Charging Method'] === 'self' ? 'self' : 'swap',\r\n        basePrice: parseInt(row['Base Price (VND)']) || 0,\r\n        overageRate: row['Overage Rate (VND/km)'] === '-' ? null : parseInt(row['Overage Rate (VND/km)']),\r\n        note: '',\r\n      }));\r\n\r\n      resolve(packages);\r\n    };\r\n    reader.onerror = (err) => reject(err);\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAGO,eAAe,oCAAoC,IAAU,EAAE,SAAiB;IACrF,OAAO,IAAI,QAAuE,CAAC,SAAS;QAC1F,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG,CAAC;YACf,MAAM,OAAO,IAAI,WAAW,EAAE,MAAM,EAAE;YACtC,MAAM,WAAW,CAAA,GAAA,6HAAA,CAAA,OAAS,AAAD,EAAE,MAAM;gBAAE,MAAM;YAAQ;YACjD,MAAM,QAAQ,SAAS,MAAM,CAAC,SAAS,UAAU,CAAC,EAAE,CAAC;YACrD,MAAM,WAAW,6HAAA,CAAA,QAAU,CAAC,aAAa,CAAM;YAE/C,MAAM,WAAW,SAAS,GAAG,CAAC,CAAC,MAAQ,CAAC;oBACtC;oBACA,MAAM,GAAG,CAAC,eAAe,IAAI;oBAC7B,cAAc,GAAG,CAAC,gBAAgB,KAAK,YAAY,YAAY;oBAC/D,SAAS,GAAG,CAAC,WAAW,KAAK,cAAc,OAAO,SAAS,GAAG,CAAC,WAAW;oBAC1E,gBAAgB,GAAG,CAAC,kBAAkB,KAAK,SAAS,SAAS;oBAC7D,WAAW,SAAS,GAAG,CAAC,mBAAmB,KAAK;oBAChD,aAAa,GAAG,CAAC,wBAAwB,KAAK,MAAM,OAAO,SAAS,GAAG,CAAC,wBAAwB;oBAChG,MAAM;gBACR,CAAC;YAED,QAAQ;QACV;QACA,OAAO,OAAO,GAAG,CAAC,MAAQ,OAAO;QACjC,OAAO,iBAAiB,CAAC;IAC3B;AACF","debugId":null}},
    {"offset": {"line": 915, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/subscriptionPackage/SubscriptionPackageSearchImportExport.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Input } from '@/src/components/ui/input';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { SimpleSelect } from '@/src/components/ui/select';\r\nimport { SubscriptionPackage } from '@/src/lib/subscriptionPackages/subscriptionPackagesType';\r\nimport { importSubscriptionPackagesFromExcel } from '@/src/lib/subscriptionPackages/importSubscriptionPackages';\r\n\r\ninterface Props {\r\n  packages: SubscriptionPackage[];\r\n  searchTerm: string;\r\n  setSearchTerm: (term: string) => void;\r\n  durationFilter: string;\r\n  setDurationFilter: (value: string) => void;\r\n  onExport: () => void;\r\n  onImportComplete: (importedPackages: Omit<SubscriptionPackage, 'id' | 'createdAt' | 'updatedAt'>[]) => void;\r\n}\r\n\r\nexport default function SubscriptionPackageSearchImportExport({\r\n  packages,\r\n  searchTerm,\r\n  setSearchTerm,\r\n  durationFilter,\r\n  setDurationFilter,\r\n  onExport,\r\n  onImportComplete,\r\n}: Props) {\r\n  const handleImport = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    try {\r\n      const importedPackages = await importSubscriptionPackagesFromExcel(file, packages[0]?.companyId ?? '');\r\n      onImportComplete(importedPackages);\r\n    } catch (error) {\r\n      console.error('❌ Import error:', error);\r\n      alert('Failed to import file.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4\">\r\n      {/* Search input */}\r\n      <Input\r\n        type=\"text\"\r\n        placeholder=\"Search by package name...\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        className=\"w-full md:w-64\"\r\n      />\r\n\r\n      {/* Filter select */}\r\n      <SimpleSelect\r\n        value={durationFilter}\r\n        onChange={(val) => setDurationFilter(val)}\r\n        options={[\r\n          { label: 'All', value: '' },\r\n          { label: 'Daily', value: 'daily' },\r\n          { label: 'Monthly', value: 'monthly' },\r\n        ]}\r\n        className=\"w-full md:w-48\"\r\n      />\r\n\r\n      {/* Export / Import buttons */}\r\n      <div className=\"flex gap-2\">\r\n        <Button onClick={onExport}>Export to Excel</Button>\r\n\r\n        <input\r\n          type=\"file\"\r\n          id=\"import-excel\"\r\n          accept=\".xlsx\"\r\n          className=\"hidden\"\r\n          onChange={handleImport}\r\n        />\r\n        <label htmlFor=\"import-excel\">\r\n          <Button type=\"button\" variant=\"outline\">Import Excel</Button>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAkBe,SAAS,sCAAsC,EAC5D,QAAQ,EACR,UAAU,EACV,aAAa,EACb,cAAc,EACd,iBAAiB,EACjB,QAAQ,EACR,gBAAgB,EACV;IACN,MAAM,eAAe,OAAO;QAC1B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,IAAI;YACF,MAAM,mBAAmB,MAAM,CAAA,GAAA,iKAAA,CAAA,sCAAmC,AAAD,EAAE,MAAM,QAAQ,CAAC,EAAE,EAAE,aAAa;YACnG,iBAAiB;QACnB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mBAAmB;YACjC,MAAM;QACR;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,iIAAA,CAAA,QAAK;gBACJ,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gBAC7C,WAAU;;;;;;0BAIZ,8OAAC,kIAAA,CAAA,eAAY;gBACX,OAAO;gBACP,UAAU,CAAC,MAAQ,kBAAkB;gBACrC,SAAS;oBACP;wBAAE,OAAO;wBAAO,OAAO;oBAAG;oBAC1B;wBAAE,OAAO;wBAAS,OAAO;oBAAQ;oBACjC;wBAAE,OAAO;wBAAW,OAAO;oBAAU;iBACtC;gBACD,WAAU;;;;;;0BAIZ,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,kIAAA,CAAA,SAAM;wBAAC,SAAS;kCAAU;;;;;;kCAE3B,8OAAC;wBACC,MAAK;wBACL,IAAG;wBACH,QAAO;wBACP,WAAU;wBACV,UAAU;;;;;;kCAEZ,8OAAC;wBAAM,SAAQ;kCACb,cAAA,8OAAC,kIAAA,CAAA,SAAM;4BAAC,MAAK;4BAAS,SAAQ;sCAAU;;;;;;;;;;;;;;;;;;;;;;;AAKlD","debugId":null}},
    {"offset": {"line": 1035, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/subscriptionPackages/exportSubscriptionPackages.tsx"],"sourcesContent":["import * as XLSX from 'xlsx';\r\nimport { SubscriptionPackage } from './subscriptionPackagesType';\r\n\r\nexport function exportSubscriptionPackagesToExcel(packages: SubscriptionPackage[]) {\r\n  if (!packages.length) {\r\n    alert('No packages to export.');\r\n    return;\r\n  }\r\n\r\n  const data = packages.map(pkg => ({\r\n    'Package Name': pkg.name,\r\n    'Duration Type': pkg.durationType,\r\n    'KM Limit': pkg.kmLimit ?? 'Unlimited',\r\n    'Charging Method': pkg.chargingMethod,\r\n    'Base Price (VND)': pkg.basePrice,\r\n    'Overage Rate (VND/km)': pkg.overageRate ?? '-',\r\n    'Created At': pkg.createdAt?.toDate ? pkg.createdAt.toDate().toLocaleDateString() : '',\r\n  }));\r\n\r\n  const worksheet = XLSX.utils.json_to_sheet(data);\r\n  const workbook = XLSX.utils.book_new();\r\n  XLSX.utils.book_append_sheet(workbook, worksheet, 'SubscriptionPackages');\r\n\r\n  XLSX.writeFile(workbook, 'subscription_packages.xlsx');\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAGO,SAAS,kCAAkC,QAA+B;IAC/E,IAAI,CAAC,SAAS,MAAM,EAAE;QACpB,MAAM;QACN;IACF;IAEA,MAAM,OAAO,SAAS,GAAG,CAAC,CAAA,MAAO,CAAC;YAChC,gBAAgB,IAAI,IAAI;YACxB,iBAAiB,IAAI,YAAY;YACjC,YAAY,IAAI,OAAO,IAAI;YAC3B,mBAAmB,IAAI,cAAc;YACrC,oBAAoB,IAAI,SAAS;YACjC,yBAAyB,IAAI,WAAW,IAAI;YAC5C,cAAc,IAAI,SAAS,EAAE,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,kBAAkB,KAAK;QACtF,CAAC;IAED,MAAM,YAAY,6HAAA,CAAA,QAAU,CAAC,aAAa,CAAC;IAC3C,MAAM,WAAW,6HAAA,CAAA,QAAU,CAAC,QAAQ;IACpC,6HAAA,CAAA,QAAU,CAAC,iBAAiB,CAAC,UAAU,WAAW;IAElD,CAAA,GAAA,6HAAA,CAAA,YAAc,AAAD,EAAE,UAAU;AAC3B","debugId":null}},
    {"offset": {"line": 1065, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/app/subscriptionPackages/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useSubscriptionPackageData } from '@/src/hooks/useSubscriptionPackageData';\r\nimport SubscriptionPackageTable from '@/src/components/subscriptionPackage/SubscriptionPackageTable';\r\nimport SubscriptionPackageForm from '@/src/components/subscriptionPackage/SubscriptionPackageForm';\r\nimport SubscriptionPackageSearchImportExport from '@/src/components/subscriptionPackage/SubscriptionPackageSearchImportExport';\r\nimport { exportSubscriptionPackagesToExcel } from '@/src/lib/subscriptionPackages/exportSubscriptionPackages';\r\nimport { SubscriptionPackage } from '@/src/lib/subscriptionPackages/subscriptionPackagesType';\r\n\r\ninterface Props {\r\n  companyId: string;\r\n}\r\n\r\nexport default function SubscriptionPackageManagerPage({ companyId }: Props) {\r\n  const {\r\n    packages,\r\n    loading,\r\n    error,\r\n    fetchPackages,\r\n    createPackage,\r\n    updatePackage,\r\n    deletePackage,\r\n  } = useSubscriptionPackageData(companyId);\r\n\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingPackage, setEditingPackage] = useState<SubscriptionPackage | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [durationFilter, setDurationFilter] = useState('');\r\n\r\n  const filteredPackages = packages.filter(pkg =>\r\n    pkg.name.toLowerCase().includes(searchTerm.toLowerCase()) &&\r\n    (durationFilter ? pkg.durationType === durationFilter : true)\r\n  );\r\n\r\n  const handleAddNew = () => {\r\n    setEditingPackage(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleEdit = (pkg: SubscriptionPackage) => {\r\n    setEditingPackage(pkg);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (confirm('Are you sure you want to delete this package?')) {\r\n      await deletePackage(id);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (data: Omit<SubscriptionPackage, 'id' | 'createdAt' | 'updatedAt'>) => {\r\n    if (editingPackage) {\r\n      await updatePackage(editingPackage.id!, data);\r\n    } else {\r\n      await createPackage({ ...data, companyId });\r\n    }\r\n    setShowForm(false);\r\n    setEditingPackage(null);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowForm(false);\r\n    setEditingPackage(null);\r\n  };\r\n\r\n  const handleImportComplete = async (imported: Omit<SubscriptionPackage, 'id' | 'createdAt' | 'updatedAt'>[]) => {\r\n    for (const pkg of imported) {\r\n      await createPackage(pkg);\r\n    }\r\n    await fetchPackages(); // Reload lại sau import\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Manage Subscription Packages</h1>\r\n\r\n      {!showForm ? (\r\n        <>\r\n          <div className=\"flex justify-end mb-4\">\r\n            <button\r\n              className=\"px-4 py-2 bg-[#00d289] text-white rounded-xl hover:bg-[#00b07a] transition\"\r\n              onClick={handleAddNew}\r\n            >\r\n              Add New Package\r\n            </button>\r\n          </div>\r\n\r\n          <SubscriptionPackageSearchImportExport\r\n            packages={packages}\r\n            searchTerm={searchTerm}\r\n            setSearchTerm={setSearchTerm}\r\n            durationFilter={durationFilter}\r\n            setDurationFilter={setDurationFilter}\r\n            onExport={() => exportSubscriptionPackagesToExcel(filteredPackages)}\r\n            onImportComplete={handleImportComplete}\r\n          />\r\n\r\n          {loading ? (\r\n            <div>Loading...</div>\r\n          ) : error ? (\r\n            <div className=\"text-red-500\">{error}</div>\r\n          ) : (\r\n            <SubscriptionPackageTable\r\n              packages={filteredPackages}\r\n              onEdit={handleEdit}\r\n              onDelete={handleDelete}\r\n            />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <SubscriptionPackageForm\r\n          initialData={editingPackage || undefined}\r\n          onSave={handleSave}\r\n          onCancel={handleCancel}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAce,SAAS,+BAA+B,EAAE,SAAS,EAAS;IACzE,MAAM,EACJ,QAAQ,EACR,OAAO,EACP,KAAK,EACL,aAAa,EACb,aAAa,EACb,aAAa,EACb,aAAa,EACd,GAAG,CAAA,GAAA,0IAAA,CAAA,6BAA0B,AAAD,EAAE;IAE/B,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA8B;IACjF,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAA,MACvC,IAAI,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OACtD,CAAC,iBAAiB,IAAI,YAAY,KAAK,iBAAiB,IAAI;IAG9D,MAAM,eAAe;QACnB,kBAAkB;QAClB,YAAY;IACd;IAEA,MAAM,aAAa,CAAC;QAClB,kBAAkB;QAClB,YAAY;IACd;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,QAAQ,kDAAkD;YAC5D,MAAM,cAAc;QACtB;IACF;IAEA,MAAM,aAAa,OAAO;QACxB,IAAI,gBAAgB;YAClB,MAAM,cAAc,eAAe,EAAE,EAAG;QAC1C,OAAO;YACL,MAAM,cAAc;gBAAE,GAAG,IAAI;gBAAE;YAAU;QAC3C;QACA,YAAY;QACZ,kBAAkB;IACpB;IAEA,MAAM,eAAe;QACnB,YAAY;QACZ,kBAAkB;IACpB;IAEA,MAAM,uBAAuB,OAAO;QAClC,KAAK,MAAM,OAAO,SAAU;YAC1B,MAAM,cAAc;QACtB;QACA,MAAM,iBAAiB,wBAAwB;IACjD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;YAEvC,CAAC,yBACA;;kCACE,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,WAAU;4BACV,SAAS;sCACV;;;;;;;;;;;kCAKH,8OAAC,kLAAA,CAAA,UAAqC;wBACpC,UAAU;wBACV,YAAY;wBACZ,eAAe;wBACf,gBAAgB;wBAChB,mBAAmB;wBACnB,UAAU,IAAM,CAAA,GAAA,iKAAA,CAAA,oCAAiC,AAAD,EAAE;wBAClD,kBAAkB;;;;;;oBAGnB,wBACC,8OAAC;kCAAI;;;;;+BACH,sBACF,8OAAC;wBAAI,WAAU;kCAAgB;;;;;6CAE/B,8OAAC,qKAAA,CAAA,UAAwB;wBACvB,UAAU;wBACV,QAAQ;wBACR,UAAU;;;;;;;6CAKhB,8OAAC,oKAAA,CAAA,UAAuB;gBACtB,aAAa,kBAAkB;gBAC/B,QAAQ;gBACR,UAAU;;;;;;;;;;;;AAKpB","debugId":null}}]
}