{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/firebaseConfig.ts"],"sourcesContent":["// src/firebaseConfig.ts\r\n// ‚úÖ C·∫•u h√¨nh v√† kh·ªüi t·∫°o Firebase (Client SDK)\r\n\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {\r\n  getAuth,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n} from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  doc,\r\n  setDoc,\r\n  getDoc,\r\n} from \"firebase/firestore\";\r\n\r\n// üîê C·∫•u h√¨nh Firebase (n√™n d√πng bi·∫øn m√¥i tr∆∞·ªùng trong production)\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDZVAxSNVaAzCdZBS-5Wx1r_1aFNQgl5tE\",\r\n  authDomain: \"ebikerental-e1178.firebaseapp.com\",\r\n  projectId: \"ebikerental-e1178\",\r\n  storageBucket: \"ebikerental-e1178.appspot.com\", // s·ª≠a l·∫°i ƒë√∫ng .app**spot**\r\n  messagingSenderId: \"319881394948\",\r\n  appId: \"1:319881394948:web:a2141deb07a03c5054ae51\",\r\n};\r\n\r\n// ‚úÖ Kh·ªüi t·∫°o Firebase App\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// ‚úÖ Kh·ªüi t·∫°o c√°c d·ªãch v·ª• Firebase c·∫ßn d√πng\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\nconst provider = new GoogleAuthProvider();\r\n\r\n// ‚úÖ Export c√°c th√†nh ph·∫ßn c·∫ßn d√πng\r\nexport {\r\n  auth,\r\n  db,\r\n  provider,\r\n  signInWithPopup,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  doc,\r\n  setDoc,\r\n  getDoc,\r\n};\r\n"],"names":[],"mappings":"AAAA,wBAAwB;AACxB,+CAA+C;;;;;;AAE/C;AAAA;AACA;AAAA;AAAA;AAOA;AAAA;;;;AAOA,mEAAmE;AACnE,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAEA,0BAA0B;AAC1B,MAAM,MAAM,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE;AAE1B,2CAA2C;AAC3C,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE;AACxB,MAAM,WAAW,IAAI,wNAAA,CAAA,qBAAkB","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState } from 'react';\r\nimport { onAuthStateChanged, User } from 'firebase/auth';\r\nimport { auth, db } from '@/src/firebaseConfig';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  companyId: string | null;\r\n  stationId: string | null;\r\n  role: string | null;\r\n  loading: boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({\r\n  user: null,\r\n  companyId: null,\r\n  stationId: null,\r\n  role: null,\r\n  loading: true,\r\n});\r\n\r\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [companyId, setCompanyId] = useState<string | null>(null);\r\n  const [stationId, setStationId] = useState<string | null>(null);\r\n  const [role, setRole] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\r\n      setUser(currentUser);\r\n\r\n      if (currentUser) {\r\n        const userDoc = await getDoc(doc(db, 'users', currentUser.uid));\r\n        const data = userDoc.data();\r\n        setCompanyId(data?.companyId || null);\r\n        setStationId(data?.stationId || null);\r\n        setRole(data?.role || null);\r\n      } else {\r\n        setCompanyId(null);\r\n        setStationId(null);\r\n        setRole(null);\r\n      }\r\n\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, companyId, stationId, role, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useUser = () => useContext(AuthContext);\r\nexport const useAuthContext = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AALA;;;;;;AAeA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAmB;IACjD,MAAM;IACN,WAAW;IACX,WAAW;IACX,MAAM;IACN,SAAS;AACX;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAC1D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,CAAA,GAAA,wNAAA,CAAA,qBAAkB,AAAD,EAAE,qIAAA,CAAA,OAAI,EAAE,OAAO;YAClD,QAAQ;YAER,IAAI,aAAa;gBACf,MAAM,UAAU,MAAM,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,qIAAA,CAAA,KAAE,EAAE,SAAS,YAAY,GAAG;gBAC7D,MAAM,OAAO,QAAQ,IAAI;gBACzB,aAAa,MAAM,aAAa;gBAChC,aAAa,MAAM,aAAa;gBAChC,QAAQ,MAAM,QAAQ;YACxB,OAAO;gBACL,aAAa;gBACb,aAAa;gBACb,QAAQ;YACV;YAEA,WAAW;QACb;QAEA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAW;YAAW;YAAM;QAAQ;kBACtE;;;;;;AAGP;AAEO,MAAM,UAAU,IAAM,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;AACjC,MAAM,iBAAiB,IAAM,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE","debugId":null}}]
}