{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/button.tsx"],"sourcesContent":["import { ReactNode } from 'react';\r\n\r\ntype ButtonVariant =\r\n  | 'default'\r\n  | 'ghost'\r\n  | 'outline'\r\n  | 'secondary'\r\n  | 'danger'\r\n  | 'greenOutline'\r\n  | 'destructive';\r\n\r\ninterface ButtonProps {\r\n  className?: string;\r\n  children: ReactNode;\r\n  onClick?: () => void;\r\n  type?: 'button' | 'submit' | 'reset';\r\n  variant?: ButtonVariant;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport const Button = ({\r\n  className = '',\r\n  children,\r\n  onClick,\r\n  type = 'button',\r\n  variant = 'default',\r\n  disabled = false,\r\n}: ButtonProps) => {\r\n  const baseClass =\r\n    'inline-flex items-center justify-center px-4 py-2 font-semibold rounded-md transition-all text-sm';\r\n\r\n  const variantClass: Record<ButtonVariant, string> = {\r\n    default: 'bg-[#00d289] text-white border border-[#00d289] hover:bg-[#00b67a]',\r\n    ghost: 'bg-transparent text-[#00d289] border border-transparent hover:bg-[#e6fff5]',\r\n    outline: 'bg-white text-[#00d289] border border-[#00d289] hover:bg-[#f0fdf8]',\r\n    secondary: 'bg-gray-100 text-gray-800 border border-gray-300 hover:bg-gray-200',\r\n    danger: 'bg-red-500 text-white border border-red-500 hover:bg-red-600',\r\n    greenOutline: 'bg-transparent text-[#00d289] border border-[#00d289] hover:bg-[#00d289]/10',\r\n    destructive: 'bg-white text-red-600 border border-red-500 hover:bg-red-50',\r\n  };\r\n\r\n  const disabledClass = disabled ? 'opacity-50 pointer-events-none cursor-not-allowed' : '';\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      disabled={disabled}\r\n      className={`${baseClass} ${variantClass[variant]} ${disabledClass} ${className}`}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAoBO,MAAM,SAAS,CAAC,EACrB,YAAY,EAAE,EACd,QAAQ,EACR,OAAO,EACP,OAAO,QAAQ,EACf,UAAU,SAAS,EACnB,WAAW,KAAK,EACJ;IACZ,MAAM,YACJ;IAEF,MAAM,eAA8C;QAClD,SAAS;QACT,OAAO;QACP,SAAS;QACT,WAAW;QACX,QAAQ;QACR,cAAc;QACd,aAAa;IACf;IAEA,MAAM,gBAAgB,WAAW,sDAAsD;IAEvF,qBACE,6LAAC;QACC,MAAM;QACN,UAAU;QACV,WAAW,GAAG,UAAU,CAAC,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,cAAc,CAAC,EAAE,WAAW;QAChF,SAAS;kBAER;;;;;;AAGP;KAjCa","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/staff/StaffTable.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Staff } from '@/src/lib/staff/staffTypes';\r\nimport { Button } from '@/src/components/ui/button';\r\n\r\ninterface ExtendedStaff extends Staff {\r\n  isPending?: boolean;\r\n}\r\n\r\ninterface Props {\r\n  staffs: ExtendedStaff[];\r\n  onEdit: (staff: ExtendedStaff) => void;\r\n  onDelete: (id: string, isPending?: boolean) => void;\r\n  companyName: string;\r\n  stationMap: Record<string, string>;\r\n}\r\n\r\nexport default function StaffTable({ staffs, onEdit, onDelete, companyName, stationMap }: Props) {\r\n  return (\r\n    <div className=\"overflow-x-auto bg-white shadow rounded-xl p-4\">\r\n      <table className=\"min-w-full border border-gray-200 text-sm whitespace-nowrap\">\r\n        <thead className=\"bg-gray-100 text-gray-700 text-sm font-medium\">\r\n          <tr>\r\n            <th className=\"px-3 py-2 border text-left\">Name</th>\r\n            <th className=\"px-3 py-2 border text-left\">Email</th>\r\n            <th className=\"px-3 py-2 border text-left\">Phone</th>\r\n            <th className=\"px-3 py-2 border text-left\">Role</th>\r\n            <th className=\"px-3 py-2 border text-left\">Company</th>\r\n            <th className=\"px-3 py-2 border text-left\">Station</th>\r\n            <th className=\"px-3 py-2 border text-center\">Status</th>\r\n            <th className=\"px-3 py-2 border text-center\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {staffs.map((staff) => (\r\n            <tr key={staff.id} className=\"hover:bg-gray-50\">\r\n              <td className=\"px-3 py-2 border\">{staff.name || '-'}</td>\r\n              <td className=\"px-3 py-2 border\">{staff.email}</td>\r\n              <td className=\"px-3 py-2 border\">{staff.phone || '-'}</td>\r\n              <td className=\"px-3 py-2 border capitalize\">{staff.role.replace('_', ' ')}</td>\r\n              <td className=\"px-3 py-2 border\">{companyName}</td>\r\n              <td className=\"px-3 py-2 border\">{staff.stationId ? stationMap[staff.stationId] || staff.stationId : '-'}</td>\r\n              <td className=\"px-3 py-2 border text-center\">\r\n                {staff.isPending ? (\r\n                  <span className=\"text-yellow-600 font-medium\">Pending</span>\r\n                ) : staff.accepted === true ? (\r\n                  <span className=\"text-green-600 font-medium\">Accepted</span>\r\n                ) : (\r\n                  <span className=\"text-gray-500\">Unknown</span>\r\n                )}\r\n              </td>\r\n              <td className=\"px-3 py-2 border text-center space-x-2\">\r\n                <Button onClick={() => onEdit(staff)}>Edit</Button>\r\n                <Button variant=\"destructive\" onClick={() => onDelete(staff.id, staff.isPending)}>\r\n                  Delete\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAiBe,SAAS,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,UAAU,EAAS;IAC7F,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAM,WAAU;;8BACf,6LAAC;oBAAM,WAAU;8BACf,cAAA,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,6LAAC;gCAAG,WAAU;0CAA+B;;;;;;0CAC7C,6LAAC;gCAAG,WAAU;0CAA+B;;;;;;;;;;;;;;;;;8BAGjD,6LAAC;8BACE,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC;4BAAkB,WAAU;;8CAC3B,6LAAC;oCAAG,WAAU;8CAAoB,MAAM,IAAI,IAAI;;;;;;8CAChD,6LAAC;oCAAG,WAAU;8CAAoB,MAAM,KAAK;;;;;;8CAC7C,6LAAC;oCAAG,WAAU;8CAAoB,MAAM,KAAK,IAAI;;;;;;8CACjD,6LAAC;oCAAG,WAAU;8CAA+B,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK;;;;;;8CACrE,6LAAC;oCAAG,WAAU;8CAAoB;;;;;;8CAClC,6LAAC;oCAAG,WAAU;8CAAoB,MAAM,SAAS,GAAG,UAAU,CAAC,MAAM,SAAS,CAAC,IAAI,MAAM,SAAS,GAAG;;;;;;8CACrG,6LAAC;oCAAG,WAAU;8CACX,MAAM,SAAS,iBACd,6LAAC;wCAAK,WAAU;kDAA8B;;;;;+CAC5C,MAAM,QAAQ,KAAK,qBACrB,6LAAC;wCAAK,WAAU;kDAA6B;;;;;6DAE7C,6LAAC;wCAAK,WAAU;kDAAgB;;;;;;;;;;;8CAGpC,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAS,IAAM,OAAO;sDAAQ;;;;;;sDACtC,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAc,SAAS,IAAM,SAAS,MAAM,EAAE,EAAE,MAAM,SAAS;sDAAG;;;;;;;;;;;;;2BAlB7E,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;AA4B7B;KA9CwB","debugId":null}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/input.tsx"],"sourcesContent":["import { ReactNode, InputHTMLAttributes } from 'react';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  className?: string;\r\n  icon?: ReactNode;\r\n}\r\n\r\nexport const Input = ({ className = '', icon, ...props }: InputProps) => {\r\n  return (\r\n    <div className={`flex items-center border border-[#00d289] rounded-sm p-2 ${className}`}>\r\n      {icon && <span className=\"mr-2\">{icon}</span>}\r\n      <input\r\n        className=\"flex-1 outline-none bg-transparent\"\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAOO,MAAM,QAAQ,CAAC,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,GAAG,OAAmB;IAClE,qBACE,6LAAC;QAAI,WAAW,CAAC,yDAAyD,EAAE,WAAW;;YACpF,sBAAQ,6LAAC;gBAAK,WAAU;0BAAQ;;;;;;0BACjC,6LAAC;gBACC,WAAU;gBACT,GAAG,KAAK;;;;;;;;;;;;AAIjB;KAVa","debugId":null}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ReactNode, useState, useRef, useEffect } from \"react\";\r\n\r\ninterface SelectProps {\r\n  className?: string;\r\n  children: ReactNode;\r\n  placeholder?: string;\r\n  value?: string;\r\n  onChange?: (value: string) => void;\r\n}\r\n\r\ninterface SelectItemProps {\r\n  value: string;\r\n  children: ReactNode;\r\n  onSelect: (value: string, label: string) => void;\r\n}\r\n\r\nexport const Select = ({\r\n  className = \"\",\r\n  children,\r\n}: {\r\n  className?: string;\r\n  children: ReactNode;\r\n}) => {\r\n  return <div className={`relative ${className}`}>{children}</div>;\r\n};\r\n\r\nexport const SelectTrigger = ({\r\n  className = \"\",\r\n  value,\r\n  placeholder,\r\n  onClick,\r\n}: {\r\n  className?: string;\r\n  value?: string;\r\n  placeholder?: string;\r\n  onClick?: () => void;\r\n}) => {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n      className={`w-full text-left px-4 py-2 border  rounded-sm ${className}`}\r\n    >\r\n      {value || placeholder || \"Select...\"}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const SelectContent = ({\r\n  className = \"\",\r\n  children,\r\n  open,\r\n}: {\r\n  className?: string;\r\n  children: ReactNode;\r\n  open: boolean;\r\n}) => {\r\n  if (!open) return null;\r\n  return (\r\n    <div\r\n      className={`absolute z-10 mt-2 w-full bg-white rounded-lg shadow-lg ${className}`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectItem = ({ value, children, onSelect }: SelectItemProps) => {\r\n  return (\r\n    <div\r\n      className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\r\n      onClick={() => onSelect(value, children?.toString() || \"\")}\r\n      role=\"option\"\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Wrapper Component Ä‘á»ƒ dá»… sá»­ dá»¥ng\r\nexport const SimpleSelect = ({\r\n  options,\r\n  placeholder = \"Select...\",\r\n  value,\r\n  onChange,\r\n  className,\r\n}: {\r\n  options: { label: string; value: string }[];\r\n  placeholder?: string;\r\n  value?: string;\r\n  onChange: (val: string) => void;\r\n  className?: string;\r\n}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedLabel, setSelectedLabel] = useState<string | undefined>(\r\n    options.find((opt) => opt.value === value)?.label\r\n  );\r\n\r\n  const wrapperRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (\r\n        wrapperRef.current &&\r\n        !wrapperRef.current.contains(event.target as Node)\r\n      ) {\r\n        setOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <Select className={className}>\r\n      <div ref={wrapperRef}>\r\n        <SelectTrigger\r\n          value={selectedLabel}\r\n          placeholder={placeholder}\r\n          onClick={() => setOpen(!open)}\r\n        />\r\n        <SelectContent open={open}>\r\n          {options.map((opt) => (\r\n            <SelectItem\r\n              key={opt.value}\r\n              value={opt.value}\r\n              onSelect={(val, label) => {\r\n                onChange(val);\r\n                setSelectedLabel(label);\r\n                setOpen(false);\r\n              }}\r\n            >\r\n              {opt.label}\r\n            </SelectItem>\r\n          ))}\r\n        </SelectContent>\r\n      </div>\r\n    </Select>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAEA;;;AAFA;;AAkBO,MAAM,SAAS,CAAC,EACrB,YAAY,EAAE,EACd,QAAQ,EAIT;IACC,qBAAO,6LAAC;QAAI,WAAW,CAAC,SAAS,EAAE,WAAW;kBAAG;;;;;;AACnD;KARa;AAUN,MAAM,gBAAgB,CAAC,EAC5B,YAAY,EAAE,EACd,KAAK,EACL,WAAW,EACX,OAAO,EAMR;IACC,qBACE,6LAAC;QACC,MAAK;QACL,SAAS;QACT,WAAW,CAAC,8CAA8C,EAAE,WAAW;kBAEtE,SAAS,eAAe;;;;;;AAG/B;MApBa;AAsBN,MAAM,gBAAgB,CAAC,EAC5B,YAAY,EAAE,EACd,QAAQ,EACR,IAAI,EAKL;IACC,IAAI,CAAC,MAAM,OAAO;IAClB,qBACE,6LAAC;QACC,WAAW,CAAC,wDAAwD,EAAE,WAAW;kBAEhF;;;;;;AAGP;MAjBa;AAmBN,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAmB;IACvE,qBACE,6LAAC;QACC,WAAU;QACV,SAAS,IAAM,SAAS,OAAO,UAAU,cAAc;QACvD,MAAK;kBAEJ;;;;;;AAGP;MAVa;AAaN,MAAM,eAAe,CAAC,EAC3B,OAAO,EACP,cAAc,WAAW,EACzB,KAAK,EACL,QAAQ,EACR,SAAS,EAOV;;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAC/C,QAAQ,IAAI;iCAAC,CAAC,MAAQ,IAAI,KAAK,KAAK;iCAAQ;IAG9C,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM;6DAAqB,CAAC;oBAC1B,IACE,WAAW,OAAO,IAClB,CAAC,WAAW,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GACzC;wBACA,QAAQ;oBACV;gBACF;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;0CAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;iCAAG,EAAE;IAEL,qBACE,6LAAC;QAAO,WAAW;kBACjB,cAAA,6LAAC;YAAI,KAAK;;8BACR,6LAAC;oBACC,OAAO;oBACP,aAAa;oBACb,SAAS,IAAM,QAAQ,CAAC;;;;;;8BAE1B,6LAAC;oBAAc,MAAM;8BAClB,QAAQ,GAAG,CAAC,CAAC,oBACZ,6LAAC;4BAEC,OAAO,IAAI,KAAK;4BAChB,UAAU,CAAC,KAAK;gCACd,SAAS;gCACT,iBAAiB;gCACjB,QAAQ;4BACV;sCAEC,IAAI,KAAK;2BARL,IAAI,KAAK;;;;;;;;;;;;;;;;;;;;;AAe5B;GA3Da;MAAA","debugId":null}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/services/staff/staffService.tsx"],"sourcesContent":["// lib/staff/staffService.ts\r\n\r\nimport {\r\n    collection,\r\n    addDoc,\r\n    updateDoc,\r\n    deleteDoc,\r\n    getDocs,\r\n    doc,\r\n    getDoc,\r\n    serverTimestamp,\r\n    query,\r\n    where\r\n  } from 'firebase/firestore';\r\n  import { db } from '@/src/firebaseConfig';\r\n  import { Staff } from '@/src/lib/staff/staffTypes';\r\n  \r\n  const STAFF_COLLECTION = 'staffs';\r\n  \r\n  export const getAllStaffs = async (companyId: string): Promise<Staff[]> => {\r\n    const q = query(collection(db, STAFF_COLLECTION), where('companyId', '==', companyId));\r\n    const snapshot = await getDocs(q);\r\n    return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Staff));\r\n  };\r\n  \r\n  export const getStaffById = async (id: string): Promise<Staff | null> => {\r\n    const docRef = doc(db, STAFF_COLLECTION, id);\r\n    const snapshot = await getDoc(docRef);\r\n    return snapshot.exists() ? ({ id: snapshot.id, ...snapshot.data() } as Staff) : null;\r\n  };\r\n  \r\n  export const createStaff = async (data: Omit<Staff, 'id' | 'createdAt' | 'updatedAt'>): Promise<Staff> => {\r\n    const newDoc = await addDoc(collection(db, STAFF_COLLECTION), {\r\n      ...data,\r\n      createdAt: serverTimestamp(),\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n    return { id: newDoc.id, ...data, createdAt: serverTimestamp(), updatedAt: serverTimestamp() } as Staff;\r\n  };\r\n  \r\n  export const updateStaff = async (id: string, data: Partial<Staff>) => {\r\n    const docRef = doc(db, STAFF_COLLECTION, id);\r\n    await updateDoc(docRef, {\r\n      ...data,\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n  };\r\n  \r\n  export const deleteStaff = async (id: string) => {\r\n    const docRef = doc(db, STAFF_COLLECTION, id);\r\n    await deleteDoc(docRef);\r\n  };\r\n  "],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;;AAE5B;AAAA;AAYE;AAAA;;;AAGA,MAAM,mBAAmB;AAElB,MAAM,eAAe,OAAO;IACjC,MAAM,IAAI,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,mBAAmB,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,aAAa,MAAM;IAC3E,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;IAC/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;YAAE,IAAI,IAAI,EAAE;YAAE,GAAG,IAAI,IAAI,EAAE;QAAC,CAAU;AACzE;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,SAAS,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,kBAAkB;IACzC,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE;IAC9B,OAAO,SAAS,MAAM,KAAM;QAAE,IAAI,SAAS,EAAE;QAAE,GAAG,SAAS,IAAI,EAAE;IAAC,IAAc;AAClF;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,SAAS,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,mBAAmB;QAC5D,GAAG,IAAI;QACP,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;QACzB,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;IAC3B;IACA,OAAO;QAAE,IAAI,OAAO,EAAE;QAAE,GAAG,IAAI;QAAE,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;QAAK,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;IAAI;AAC9F;AAEO,MAAM,cAAc,OAAO,IAAY;IAC5C,MAAM,SAAS,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,kBAAkB;IACzC,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,QAAQ;QACtB,GAAG,IAAI;QACP,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;IAC3B;AACF;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,SAAS,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,kBAAkB;IACzC,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE;AAClB","debugId":null}},
    {"offset": {"line": 538, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/invitations/staff/inviteUserAsStaff.ts"],"sourcesContent":["import { db } from '@/src/firebaseConfig';\r\nimport { doc, setDoc, Timestamp, collection } from 'firebase/firestore';\r\n\r\nexport const inviteUserAsStaff = async (\r\n  email: string,\r\n  companyId: string,\r\n  role: string,\r\n  stationId: string,\r\n  content: string,\r\n  userId: string,\r\n  name: string,\r\n  phone: string\r\n) => {\r\n  const newInvitation = {\r\n    userId,\r\n    email,\r\n    name,\r\n    phone,\r\n    companyId,\r\n    stationId,\r\n    role,\r\n    type: 'invitation',\r\n    content,\r\n    status: 'pending',\r\n    createdAt: Timestamp.now(),\r\n  };\r\n  await setDoc(doc(collection(db, 'messages')), newInvitation);\r\n};"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,oBAAoB,OAC/B,OACA,WACA,MACA,WACA,SACA,QACA,MACA;IAEA,MAAM,gBAAgB;QACpB;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA,QAAQ;QACR,WAAW,sKAAA,CAAA,YAAS,CAAC,GAAG;IAC1B;IACA,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,cAAc;AAChD","debugId":null}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/utils.ts"],"sourcesContent":["// src/lib/utils.ts\r\nexport function cn(...args: any[]) {\r\n    return args.filter(Boolean).join(\" \");\r\n  }\r\n  "],"names":[],"mappings":"AAAA,mBAAmB;;;;AACZ,SAAS,GAAG,GAAG,IAAW;IAC7B,OAAO,KAAK,MAAM,CAAC,SAAS,IAAI,CAAC;AACnC","debugId":null}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\r\nimport { X } from \"lucide-react\";\r\nimport { cn } from \"@/src/lib/utils\";\r\n\r\nconst Dialog = DialogPrimitive.Root;\r\nconst DialogTrigger = DialogPrimitive.Trigger;\r\nconst DialogPortal = DialogPrimitive.Portal;\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-all\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed z-50 left-1/2 top-1/2 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-xl bg-white p-6 shadow-lg transition-all\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 text-gray-500 hover:text-gray-700\">\r\n        <X className=\"h-5 w-5\" />\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n));\r\nDialogContent.displayName = DialogPrimitive.Content.displayName;\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"mb-4 space-y-2 text-center\", className)} {...props} />\r\n);\r\nDialogHeader.displayName = \"DialogHeader\";\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n));\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"flex justify-end gap-2 pt-4\", className)} {...props} />\r\n);\r\nDialogFooter.displayName = \"DialogFooter\";\r\n\r\nexport {\r\n  Dialog,\r\n  DialogTrigger,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AACnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAC7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kIACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;kCAC/B,cAAA,6LAAC,+LAAA,CAAA,IAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKrB,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAAa,GAAG,KAAK;;;;;;MAJlE;AAMN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAAa,GAAG,KAAK;;;;;;MAJnE;AAMN,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 713, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/NotificationDialog.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/src/components/ui/dialog';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { CheckCircle, AlertCircle, Info, Trash2 } from 'lucide-react';\r\n\r\n// âœ… Export riÃªng NotificationType Ä‘á»ƒ cÃ¡c file khÃ¡c import Ä‘Æ°á»£c\r\nexport type NotificationType = 'success' | 'error' | 'info' | 'confirm';\r\n\r\nexport interface NotificationDialogProps {\r\n  open: boolean;\r\n  type: NotificationType;\r\n  title: string;\r\n  description?: string;\r\n  onClose: () => void;\r\n  onConfirm?: () => void;\r\n}\r\n\r\nexport default function NotificationDialog({\r\n  open,\r\n  type,\r\n  title,\r\n  description,\r\n  onClose,\r\n  onConfirm,\r\n}: NotificationDialogProps) {\r\n  const renderIcon = () => {\r\n    switch (type) {\r\n      case 'success':\r\n        return <CheckCircle className=\"text-green-500 w-6 h-6\" />;\r\n      case 'error':\r\n        return <AlertCircle className=\"text-red-500 w-6 h-6\" />;\r\n      case 'info':\r\n        return <Info className=\"text-blue-500 w-6 h-6\" />;\r\n      case 'confirm':\r\n        return <Trash2 className=\"text-orange-500 w-6 h-6\" />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-md\">\r\n        <DialogHeader className=\"flex items-center gap-3\">\r\n          {renderIcon()}\r\n          <DialogTitle>{title}</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        {description && <p className=\"text-sm text-gray-600 mt-2\">{description}</p>}\r\n\r\n        <DialogFooter className=\"mt-4\">\r\n          {type === 'confirm' ? (\r\n            <>\r\n              <Button variant=\"ghost\" onClick={onClose}>\r\n                Cancel\r\n              </Button>\r\n              <Button variant=\"destructive\" onClick={onConfirm}>\r\n                Confirm\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <Button onClick={onClose}>OK</Button>\r\n          )}\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAJA;;;;;AAkBe,SAAS,mBAAmB,EACzC,IAAI,EACJ,IAAI,EACJ,KAAK,EACL,WAAW,EACX,OAAO,EACP,SAAS,EACe;IACxB,MAAM,aAAa;QACjB,OAAQ;YACN,KAAK;gBACH,qBAAO,6LAAC,8NAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;YAChC,KAAK;gBACH,qBAAO,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;YAChC,KAAK;gBACH,qBAAO,6LAAC,qMAAA,CAAA,OAAI;oBAAC,WAAU;;;;;;YACzB,KAAK;gBACH,qBAAO,6LAAC,6MAAA,CAAA,SAAM;oBAAC,WAAU;;;;;;YAC3B;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC,qIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,qIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,6LAAC,qIAAA,CAAA,eAAY;oBAAC,WAAU;;wBACrB;sCACD,6LAAC,qIAAA,CAAA,cAAW;sCAAE;;;;;;;;;;;;gBAGf,6BAAe,6LAAC;oBAAE,WAAU;8BAA8B;;;;;;8BAE3D,6LAAC,qIAAA,CAAA,eAAY;oBAAC,WAAU;8BACrB,SAAS,0BACR;;0CACE,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAQ,SAAS;0CAAS;;;;;;0CAG1C,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAc,SAAS;0CAAW;;;;;;;qDAKpD,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAS;kCAAS;;;;;;;;;;;;;;;;;;;;;;AAMtC;KAlDwB","debugId":null}},
    {"offset": {"line": 858, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/staff/StaffForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Input } from '@/src/components/ui/input';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { SimpleSelect } from '@/src/components/ui/select';\r\nimport { Staff } from '@/src/lib/staff/staffTypes';\r\nimport { updateStaff } from '@/src/lib/services/staff/staffService';\r\nimport { inviteUserAsStaff } from '@/src/lib/invitations/staff/inviteUserAsStaff';\r\nimport NotificationDialog from '@/src/components/ui/NotificationDialog';\r\nimport { collection, getDocs, query, where } from 'firebase/firestore';\r\nimport { db } from '@/src/firebaseConfig';\r\n\r\ninterface Props {\r\n  editingStaff: Staff | null;\r\n  companyId: string;\r\n  onSave: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst ROLE_OPTIONS = [\r\n  { label: 'Company Admin', value: 'company_admin' },\r\n  { label: 'Station Manager', value: 'station_manager' },\r\n  { label: 'Technician', value: 'technician' },\r\n  { label: 'Support', value: 'support' },\r\n];\r\n\r\nexport default function StaffForm({ editingStaff, companyId, onSave, onCancel }: Props) {\r\n  const [form, setForm] = useState<Omit<Staff, 'id' | 'createdAt' | 'updatedAt'>>({\r\n    userId: '',\r\n    companyId,\r\n    stationId: '',\r\n    role: 'support',\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n  });\r\n\r\n  const [dialog, setDialog] = useState({\r\n    open: false,\r\n    type: 'info' as 'info' | 'success' | 'error',\r\n    title: '',\r\n    description: '',\r\n  });\r\n\r\n  const [searchEmail, setSearchEmail] = useState('');\r\n  const [stationOptions, setStationOptions] = useState<{ label: string; value: string }[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (editingStaff) {\r\n      const { id, createdAt, updatedAt, ...rest } = editingStaff;\r\n      setForm(rest);\r\n    }\r\n  }, [editingStaff]);\r\n\r\n  useEffect(() => {\r\n    const fetchStations = async () => {\r\n      const snap = await getDocs(query(collection(db, 'rentalStations'), where('companyId', '==', companyId)));\r\n      const options = snap.docs.map((doc) => ({ label: doc.data().name, value: doc.id }));\r\n      setStationOptions(options);\r\n    };\r\n    if (companyId) fetchStations();\r\n  }, [companyId]);\r\n\r\n  const handleChange = (key: keyof typeof form, value: string) => {\r\n    setForm((prev) => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleEmailSearch = async () => {\r\n    if (!searchEmail) return;\r\n    try {\r\n      const snapshot = await getDocs(query(collection(db, 'users'), where('email', '==', searchEmail.trim())));\r\n      if (snapshot.empty) {\r\n        setDialog({ open: true, type: 'error', title: 'User not found', description: 'No user with this email exists.' });\r\n        return;\r\n      }\r\n      const userDoc = snapshot.docs[0];\r\n      const user = userDoc.data();\r\n      setForm((prev) => ({\r\n        ...prev,\r\n        userId: userDoc.id,\r\n        name: user.name || '',\r\n        email: user.email || '',\r\n        phone: user.phone || '',\r\n      }));\r\n      setDialog({ open: true, type: 'success', title: 'User Loaded', description: '' });\r\n    } catch (error: any) {\r\n      setDialog({ open: true, type: 'error', title: 'Error', description: error.message || 'Failed to search user.' });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!form.userId || !form.name || !form.email) {\r\n      setDialog({ open: true, type: 'error', title: 'Missing Required Fields', description: 'User ID, Name, and Email are required.' });\r\n      return;\r\n    }\r\n    try {\r\n      if (editingStaff) {\r\n        await updateStaff(editingStaff.id, form);\r\n        setDialog({ open: true, type: 'success', title: 'Staff Updated Successfully', description: '' });\r\n      } else {\r\n        await inviteUserAsStaff(\r\n          form.email,\r\n          companyId,\r\n          form.role,\r\n          form.stationId ?? '',\r\n          `${form.name} is invited to join your company as ${form.role}`,\r\n          form.userId,\r\n          form.name,\r\n          form.phone || ''\r\n        );\r\n        setDialog({ open: true, type: 'success', title: 'Invitation Sent Successfully', description: '' });\r\n      }\r\n      onSave();\r\n    } catch (error: any) {\r\n      setDialog({ open: true, type: 'error', title: 'Error', description: error.message || 'Failed to save staff.' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-xl shadow max-w-3xl mx-auto space-y-4\">\r\n      <h2 className=\"text-xl font-semibold text-gray-800\">\r\n        {editingStaff ? 'Edit Staff' : 'Invite New Staff'}\r\n      </h2>\r\n      <div className=\"flex gap-2\">\r\n        <Input placeholder=\"Search by Email\" value={searchEmail} onChange={(e) => setSearchEmail(e.target.value)} />\r\n        <Button onClick={handleEmailSearch}>Find</Button>\r\n      </div>\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n        <Input placeholder=\"Full Name\" value={form.name} onChange={(e) => handleChange('name', e.target.value)} />\r\n        <Input placeholder=\"Email\" value={form.email} onChange={(e) => handleChange('email', e.target.value)} />\r\n        <Input placeholder=\"Phone\" value={form.phone} onChange={(e) => handleChange('phone', e.target.value)} />\r\n        <SimpleSelect\r\n          options={stationOptions}\r\n          value={form.stationId ?? ''}\r\n          onChange={(val) => handleChange('stationId', val)}\r\n          placeholder=\"Select Station (optional)\"\r\n        />\r\n        <div className=\"sm:col-span-2\">\r\n          <SimpleSelect\r\n            options={ROLE_OPTIONS}\r\n            value={form.role}\r\n            onChange={(val) => handleChange('role', val)}\r\n            placeholder=\"Select Role\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-end gap-2 pt-4\">\r\n        <Button onClick={handleSubmit}>Save</Button>\r\n        <Button variant=\"ghost\" onClick={onCancel}>Cancel</Button>\r\n      </div>\r\n\r\n      <NotificationDialog\r\n        open={dialog.open}\r\n        type={dialog.type}\r\n        title={dialog.title}\r\n        description={dialog.description}\r\n        onClose={() => setDialog((prev) => ({ ...prev, open: false }))}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1192, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/app/my-business/admin/staff/page.tsx"],"sourcesContent":["// Trang quáº£n lÃ½ staff cá»§a Admin\r\n'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { db } from '@/src/firebaseConfig';\r\nimport { collection, getDocs, query } from 'firebase/firestore';\r\nimport StaffTable from '@/src/components/staff/StaffTable';\r\nimport { Staff } from '@/src/lib/staff/staffTypes';\r\nimport { Timestamp } from 'firebase/firestore';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport StaffForm from '@/src/components/staff/StaffForm';\r\nimport NotificationDialog from '@/src/components/ui/NotificationDialog';\r\nimport { useStaffData } from '@/src/hooks/useStaffData';\r\n\r\nexport default function AdminStaffPage() {\r\n  const [staffs, setStaffs] = useState<Staff[]>([]);\r\n  const [editingStaff, setEditingStaff] = useState<Staff | null>(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [dialog, setDialog] = useState({\r\n    open: false,\r\n    type: 'success' as 'success' | 'error' | 'confirm',\r\n    title: '',\r\n    description: '',\r\n    onConfirm: undefined as (() => void) | undefined,\r\n  });\r\n\r\n  const fetchAllStaffs = async () => {\r\n    const snap = await getDocs(query(collection(db, 'staffs')));\r\n    const staffList = snap.docs.map((doc) => {\r\n      const data = doc.data() as Omit<Staff, 'id'>;\r\n      return { ...data, id: doc.id } as Staff;\r\n    });\r\n    setStaffs(staffList);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAllStaffs();\r\n  }, []);\r\n\r\n  const showDialog = (\r\n    type: 'success' | 'error' | 'confirm',\r\n    title: string,\r\n    description?: string,\r\n    onConfirm?: () => void\r\n  ) => {\r\n    setDialog({ open: true, type, title, description: description || '', onConfirm });\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    try {\r\n      // Implement delete logic here\r\n      showDialog('success', 'Staff deleted');\r\n      fetchAllStaffs();\r\n    } catch {\r\n      showDialog('error', 'Failed to delete staff');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen px-6 py-10 space-y-8 bg-gray-50\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-2xl font-bold text-gray-800\">ðŸ‘¥ All Staff (Admin)</h1>\r\n        <Button onClick={() => { setEditingStaff(null); setShowForm(true); }}>+ Add Staff</Button>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <StaffForm\r\n          editingStaff={editingStaff}\r\n          companyId=\"\"\r\n          onSave={() => {\r\n            setShowForm(false);\r\n            fetchAllStaffs();\r\n          }}\r\n          onCancel={() => {\r\n            setShowForm(false);\r\n            setEditingStaff(null);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      <StaffTable\r\n        staffs={staffs}\r\n        onEdit={(staff) => {\r\n          setEditingStaff(staff);\r\n          setShowForm(true);\r\n        }}\r\n        onDelete={(id) => {\r\n          showDialog(\r\n            'confirm',\r\n            'Are you sure you want to delete this staff?',\r\n            'This action cannot be undone.',\r\n            () => handleDelete(id)\r\n          );\r\n        }}\r\n        stationMap={{}}\r\n        companyName=\"\"\r\n      />\r\n\r\n      <NotificationDialog\r\n        open={dialog.open}\r\n        type={dialog.type}\r\n        title={dialog.title}\r\n        description={dialog.description}\r\n        onClose={() => setDialog((prev) => ({ ...prev, open: false }))}\r\n        onConfirm={dialog.onConfirm}\r\n      />\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,gCAAgC;;;;;AAGhC;AACA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AACA;;;AAVA;;;;;;;;AAae,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAChD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAgB;IAC/D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QACnC,MAAM;QACN,MAAM;QACN,OAAO;QACP,aAAa;QACb,WAAW;IACb;IAEA,MAAM,iBAAiB;QACrB,MAAM,OAAO,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE;QAChD,MAAM,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC;YAC/B,MAAM,OAAO,IAAI,IAAI;YACrB,OAAO;gBAAE,GAAG,IAAI;gBAAE,IAAI,IAAI,EAAE;YAAC;QAC/B;QACA,UAAU;IACZ;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR;QACF;mCAAG,EAAE;IAEL,MAAM,aAAa,CACjB,MACA,OACA,aACA;QAEA,UAAU;YAAE,MAAM;YAAM;YAAM;YAAO,aAAa,eAAe;YAAI;QAAU;IACjF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,8BAA8B;YAC9B,WAAW,WAAW;YACtB;QACF,EAAE,OAAM;YACN,WAAW,SAAS;QACtB;IACF;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAS;4BAAQ,gBAAgB;4BAAO,YAAY;wBAAO;kCAAG;;;;;;;;;;;;YAGvE,0BACC,6LAAC,2IAAA,CAAA,UAAS;gBACR,cAAc;gBACd,WAAU;gBACV,QAAQ;oBACN,YAAY;oBACZ;gBACF;gBACA,UAAU;oBACR,YAAY;oBACZ,gBAAgB;gBAClB;;;;;;0BAIJ,6LAAC,4IAAA,CAAA,UAAU;gBACT,QAAQ;gBACR,QAAQ,CAAC;oBACP,gBAAgB;oBAChB,YAAY;gBACd;gBACA,UAAU,CAAC;oBACT,WACE,WACA,+CACA,iCACA,IAAM,aAAa;gBAEvB;gBACA,YAAY,CAAC;gBACb,aAAY;;;;;;0BAGd,6LAAC,iJAAA,CAAA,UAAkB;gBACjB,MAAM,OAAO,IAAI;gBACjB,MAAM,OAAO,IAAI;gBACjB,OAAO,OAAO,KAAK;gBACnB,aAAa,OAAO,WAAW;gBAC/B,SAAS,IAAM,UAAU,CAAC,OAAS,CAAC;4BAAE,GAAG,IAAI;4BAAE,MAAM;wBAAM,CAAC;gBAC5D,WAAW,OAAO,SAAS;;;;;;;;;;;;AAInC;GA9FwB;KAAA","debugId":null}}]
}