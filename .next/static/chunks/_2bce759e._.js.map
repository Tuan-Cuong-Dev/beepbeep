{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/button.tsx"],"sourcesContent":["import { ReactNode } from 'react';\r\n\r\ntype ButtonVariant =\r\n  | 'default'\r\n  | 'ghost'\r\n  | 'outline'\r\n  | 'secondary'\r\n  | 'danger'\r\n  | 'greenOutline'\r\n  | 'destructive';\r\n\r\ninterface ButtonProps {\r\n  className?: string;\r\n  children: ReactNode;\r\n  onClick?: () => void;\r\n  type?: 'button' | 'submit' | 'reset';\r\n  variant?: ButtonVariant;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport const Button = ({\r\n  className = '',\r\n  children,\r\n  onClick,\r\n  type = 'button',\r\n  variant = 'default',\r\n  disabled = false,\r\n}: ButtonProps) => {\r\n  const baseClass =\r\n    'inline-flex items-center justify-center px-4 py-2 font-semibold rounded-md transition-all text-sm';\r\n\r\n  const variantClass: Record<ButtonVariant, string> = {\r\n    default: 'bg-[#00d289] text-white border border-[#00d289] hover:bg-[#00b67a]',\r\n    ghost: 'bg-transparent text-[#00d289] border border-transparent hover:bg-[#e6fff5]',\r\n    outline: 'bg-white text-[#00d289] border border-[#00d289] hover:bg-[#f0fdf8]',\r\n    secondary: 'bg-gray-100 text-gray-800 border border-gray-300 hover:bg-gray-200',\r\n    danger: 'bg-red-500 text-white border border-red-500 hover:bg-red-600',\r\n    greenOutline: 'bg-transparent text-[#00d289] border border-[#00d289] hover:bg-[#00d289]/10',\r\n    destructive: 'bg-white text-red-600 border border-red-500 hover:bg-red-50',\r\n  };\r\n\r\n  const disabledClass = disabled ? 'opacity-50 pointer-events-none cursor-not-allowed' : '';\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      disabled={disabled}\r\n      className={`${baseClass} ${variantClass[variant]} ${disabledClass} ${className}`}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAoBO,MAAM,SAAS,CAAC,EACrB,YAAY,EAAE,EACd,QAAQ,EACR,OAAO,EACP,OAAO,QAAQ,EACf,UAAU,SAAS,EACnB,WAAW,KAAK,EACJ;IACZ,MAAM,YACJ;IAEF,MAAM,eAA8C;QAClD,SAAS;QACT,OAAO;QACP,SAAS;QACT,WAAW;QACX,QAAQ;QACR,cAAc;QACd,aAAa;IACf;IAEA,MAAM,gBAAgB,WAAW,sDAAsD;IAEvF,qBACE,6LAAC;QACC,MAAM;QACN,UAAU;QACV,WAAW,GAAG,UAAU,CAAC,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,cAAc,CAAC,EAAE,WAAW;QAChF,SAAS;kBAER;;;;;;AAGP;KAjCa","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/checkbox.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\n\r\ntype CheckboxProps = {\r\n  checked: boolean;\r\n  onCheckedChange: (checked: boolean) => void;\r\n  className?: string;\r\n  disabled?: boolean;\r\n};\r\n\r\nexport const Checkbox: React.FC<CheckboxProps> = ({\r\n  checked,\r\n  onCheckedChange,\r\n  className = '',\r\n  disabled = false,\r\n}) => {\r\n  return (\r\n    <input\r\n      type=\"checkbox\"\r\n      className={`w-4 h-4 rounded border-gray-300 focus:ring-2 focus:ring-[#00d289] ${className}`}\r\n      checked={checked}\r\n      onChange={(e) => onCheckedChange(e.target.checked)}\r\n      disabled={disabled}\r\n    />\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAWO,MAAM,WAAoC,CAAC,EAChD,OAAO,EACP,eAAe,EACf,YAAY,EAAE,EACd,WAAW,KAAK,EACjB;IACC,qBACE,6LAAC;QACC,MAAK;QACL,WAAW,CAAC,kEAAkE,EAAE,WAAW;QAC3F,SAAS;QACT,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,OAAO;QACjD,UAAU;;;;;;AAGhB;KAfa","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/formConfigurations/formConfigurationTypes.ts"],"sourcesContent":["export type FormFieldType =\r\n  | 'text'\r\n  | 'number'\r\n  | 'select'\r\n  | 'checkbox'\r\n  | 'date'\r\n  | 'textarea'\r\n  | 'upload'; // Hỗ trợ upload CCCD\r\n\r\nexport interface FormField {\r\n  key: string;\r\n  label: string;\r\n  type: FormFieldType;\r\n  required: boolean;\r\n  visible: boolean;\r\n  options?: string[]; // for select\r\n  conditional?: {\r\n    dependsOn: string;\r\n    valueEquals: string | number | boolean;\r\n  };\r\n}\r\n\r\nexport interface FormSection {\r\n  id: string;\r\n  title: string;\r\n  fields: FormField[];\r\n}\r\n\r\nexport interface FormConfiguration {\r\n  id?: string; // Firestore document ID\r\n  companyId: string;\r\n  createdBy: string;\r\n  sections: FormSection[];\r\n  createdAt?: any; // Timestamp | Date\r\n  updatedAt?: any;\r\n}\r\n\r\n// ⚙️ Default cấu hình để tránh lỗi khi DynamicRentalForm chưa có config\r\nexport const defaultFormConfiguration: FormConfiguration = {\r\n  companyId: '',\r\n  createdBy: '',\r\n  sections: [\r\n    {\r\n      id: 'customer_information',\r\n      title: '1. CUSTOMER INFORMATION',\r\n      fields: [\r\n        { key: 'idImage', label: 'Upload ID', type: 'upload', required: false, visible: true },\r\n        { key: 'fullName', label: 'Full Name', type: 'text', required: true, visible: true },\r\n        { key: 'phone', label: 'Phone Number', type: 'text', required: true, visible: true },\r\n        { key: 'idNumber', label: 'ID Number', type: 'text', required: true, visible: true },\r\n        { key: 'address', label: 'Address', type: 'text', required: false, visible: true },\r\n      ],\r\n    },\r\n    {\r\n      id: 'vehicle_information',\r\n      title: '2. VEHICLE INFORMATION',\r\n      fields: [\r\n        { key: 'vehicleSearch', label: 'Enter part of Vehicle ID', type: 'text', required: false, visible: true },\r\n        { key: 'vehicleModel', label: 'Vehicle Model', type: 'text', required: true, visible: true },\r\n        { key: 'vehicleColor', label: 'Vehicle Color', type: 'text', required: false, visible: true },\r\n        { key: 'vin', label: 'VIN', type: 'text', required: false, visible: true },\r\n        { key: 'licensePlate', label: 'License Plate (optional)', type: 'text', required: false, visible: true },\r\n      ],\r\n    },\r\n    {\r\n      id: 'battery_information',\r\n      title: '3. BATTERY INFORMATION',\r\n      fields: [\r\n        { key: 'batteryCode1', label: 'Battery Code 1', type: 'text', required: false, visible: true },\r\n        { key: 'batteryCode2', label: 'Battery Code 2', type: 'text', required: false, visible: true },\r\n        { key: 'batteryCode3', label: 'Battery Code 3', type: 'text', required: false, visible: true },\r\n        { key: 'batteryCode4', label: 'Battery Code 4', type: 'text', required: false, visible: true },\r\n      ],\r\n    },\r\n    {\r\n      id: 'pricing_deposit',\r\n      title: '4. PRICING & DEPOSIT',\r\n      fields: [\r\n        { key: 'package', label: 'Rental Package', type: 'select', required: true, visible: true },\r\n        { key: 'basePrice', label: 'Base Price (VND)', type: 'number', required: false, visible: true },\r\n        { key: 'batteryFee', label: 'Battery Rental Fee', type: 'number', required: false, visible: true },\r\n        { key: 'totalAmount', label: 'Total Amount', type: 'number', required: false, visible: true },\r\n        { key: 'deposit', label: 'Deposit', type: 'number', required: false, visible: true },\r\n        { key: 'remainingBalance', label: 'Remaining Balance', type: 'number', required: false, visible: true },\r\n      ],\r\n    },\r\n    {\r\n      id: 'accessories_info',\r\n      title: '5. ACCESSORIES INFO',\r\n      fields: [\r\n        { key: 'helmet', label: 'Helmet Included', type: 'checkbox', required: false, visible: true },\r\n        { key: 'charger', label: 'Charger Included', type: 'checkbox', required: false, visible: true },\r\n        { key: 'phoneHolder', label: 'Phone Holder', type: 'checkbox', required: false, visible: true },\r\n        { key: 'rearRack', label: 'Rear Carrier Rack', type: 'checkbox', required: false, visible: true },\r\n        { key: 'raincoat', label: 'Raincoat Included', type: 'checkbox', required: false, visible: true },\r\n      ],\r\n    },\r\n    {\r\n      id: 'notes',\r\n      title: '6. NOTES',\r\n      fields: [\r\n        { key: 'note', label: 'Additional Notes', type: 'textarea', required: false, visible: true },\r\n      ],\r\n    },\r\n  ],\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/services/Configirations/formConfigurationService.ts"],"sourcesContent":["import {\r\n    FormConfiguration,\r\n    defaultFormConfiguration,\r\n  } from '@/src/lib/formConfigurations/formConfigurationTypes';\r\n  import {\r\n    getDoc,\r\n    setDoc,\r\n    doc,\r\n    serverTimestamp,\r\n    updateDoc,\r\n  } from 'firebase/firestore';\r\n  import { db } from '@/src/firebaseConfig';\r\n  \r\n  /**\r\n   * Lấy cấu hình form theo companyId.\r\n   * Nếu không tồn tại thì trả về cấu hình mặc định.\r\n   */\r\n  export const getFormConfigurationByCompanyId = async (\r\n    companyId: string\r\n  ): Promise<FormConfiguration> => {\r\n    const docRef = doc(db, 'formConfigurations', companyId);\r\n    const snapshot = await getDoc(docRef);\r\n  \r\n    if (snapshot.exists()) {\r\n      return {\r\n        id: snapshot.id,\r\n        ...snapshot.data(),\r\n      } as FormConfiguration;\r\n    } else {\r\n      return {\r\n        ...defaultFormConfiguration,\r\n        companyId,\r\n      };\r\n    }\r\n  };\r\n  \r\n  /**\r\n   * Lưu cấu hình form (tạo mới hoặc cập nhật).\r\n   * @param config FormConfiguration\r\n   */\r\n  export const saveFormConfiguration = async (\r\n    config: FormConfiguration\r\n  ): Promise<void> => {\r\n    const docRef = doc(db, 'formConfigurations', config.companyId);\r\n    const dataToSave = {\r\n      ...config,\r\n      updatedAt: serverTimestamp(),\r\n    };\r\n  \r\n    if (config.id) {\r\n      // Cập nhật (update)\r\n      await updateDoc(docRef, dataToSave);\r\n    } else {\r\n      // Tạo mới\r\n      await setDoc(docRef, {\r\n        ...dataToSave,\r\n        createdAt: serverTimestamp(),\r\n      });\r\n    }\r\n  };\r\n  "],"names":[],"mappings":";;;;AAAA;AAIE;AAAA;AAOA;AAAA;;;;AAMO,MAAM,kCAAkC,OAC7C;IAEA,MAAM,SAAS,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,sBAAsB;IAC7C,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE;IAE9B,IAAI,SAAS,MAAM,IAAI;QACrB,OAAO;YACL,IAAI,SAAS,EAAE;YACf,GAAG,SAAS,IAAI,EAAE;QACpB;IACF,OAAO;QACL,OAAO;YACL,GAAG,6JAAA,CAAA,2BAAwB;YAC3B;QACF;IACF;AACF;AAMO,MAAM,wBAAwB,OACnC;IAEA,MAAM,SAAS,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,sBAAsB,OAAO,SAAS;IAC7D,MAAM,aAAa;QACjB,GAAG,MAAM;QACT,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;IAC3B;IAEA,IAAI,OAAO,EAAE,EAAE;QACb,oBAAoB;QACpB,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,QAAQ;IAC1B,OAAO;QACL,UAAU;QACV,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,QAAQ;YACnB,GAAG,UAAU;YACb,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;QAC3B;IACF;AACF","debugId":null}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/formConfigurations/predefinedFormTemplates.ts"],"sourcesContent":["import { FormFieldType } from './formConfigurationTypes';\r\n\r\nexport interface PredefinedField {\r\n  key: string;\r\n  label: string;\r\n  type: FormFieldType;\r\n}\r\n\r\nexport interface PredefinedSection {\r\n  id: string;\r\n  title: string;\r\n  fields: PredefinedField[];\r\n}\r\n\r\nexport const predefinedFormTemplates: PredefinedSection[] = [\r\n  {\r\n    id: 'customer_information',\r\n    title: '1. CUSTOMER INFORMATION',\r\n    fields: [\r\n      { key: 'idImage', label: 'Upload ID', type: 'upload' }, // custom type dùng cho IDUploader\r\n      { key: 'fullName', label: 'Full Name', type: 'text' },\r\n      { key: 'phone', label: 'Phone Number', type: 'text' },\r\n      { key: 'idNumber', label: 'ID Number', type: 'text' },\r\n      { key: 'address', label: 'Address', type: 'text' },\r\n    ]\r\n  },\r\n  \r\n{\r\n  id: 'vehicle_information',\r\n  title: '2. VEHICLE INFORMATION',\r\n  fields: [\r\n    { key: 'vehicleSearch', label: 'Enter part of Vehicle ID', type: 'text' }, // dành cho ô input mã số khung\r\n    { key: 'vehicleModel', label: 'Vehicle Model', type: 'text' },\r\n    { key: 'vehicleColor', label: 'Vehicle Color', type: 'text' },\r\n    { key: 'vin', label: 'VIN', type: 'text' },\r\n    { key: 'licensePlate', label: 'License Plate (optional)', type: 'text' },\r\n  ]\r\n}\r\n,\r\n  {\r\n    id: 'battery_information',\r\n    title: '3. BATTERY INFORMATION',\r\n    fields: [\r\n      { key: 'batteryCode1', label: 'Battery Code 1', type: 'text' },\r\n      { key: 'batteryCode2', label: 'Battery Code 2', type: 'text' },\r\n      { key: 'batteryCode3', label: 'Battery Code 3', type: 'text' },\r\n      { key: 'batteryCode4', label: 'Battery Code 4', type: 'text' },\r\n      { key: 'batteryCode5', label: 'Battery Code 5', type: 'text' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'pricing_deposit',\r\n    title: '4. PRICING & DEPOSIT',\r\n    fields: [\r\n      { key: 'package', label: 'Rental Package', type: 'select' },\r\n      { key: 'basePrice', label: 'Base Price (VND)', type: 'number' },\r\n      { key: 'batteryFee', label: 'Battery Rental Fee', type: 'number' },\r\n      { key: 'totalAmount', label: 'Total Amount', type: 'number' },\r\n      { key: 'deposit', label: 'Deposit', type: 'number' },\r\n      { key: 'remainingBalance', label: 'Remaining Balance', type: 'number' },\r\n    ],\r\n  },\r\n  {\r\n    id: 'accessories_info',\r\n    title: '5. ACCESSORIES INFO',\r\n    fields: [\r\n      { key: 'helmet', label: 'Helmet Included', type: 'checkbox' },\r\n      { key: 'charger', label: 'Charger Included', type: 'checkbox'},\r\n      { key: 'phoneHolder', label: 'Phone Holder', type: 'checkbox'},\r\n      { key: 'rearRack', label: 'Rear Carrier Rack', type: 'checkbox'},\r\n    ],\r\n  },\r\n  {\r\n    id: 'notes',\r\n    title: '6. NOTES',\r\n    fields: [\r\n      { key: 'note', label: 'Additional Notes', type: 'textarea' },\r\n    ],\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;AAcO,MAAM,0BAA+C;IAC1D;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;YACN;gBAAE,KAAK;gBAAW,OAAO;gBAAa,MAAM;YAAS;YACrD;gBAAE,KAAK;gBAAY,OAAO;gBAAa,MAAM;YAAO;YACpD;gBAAE,KAAK;gBAAS,OAAO;gBAAgB,MAAM;YAAO;YACpD;gBAAE,KAAK;gBAAY,OAAO;gBAAa,MAAM;YAAO;YACpD;gBAAE,KAAK;gBAAW,OAAO;gBAAW,MAAM;YAAO;SAClD;IACH;IAEF;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;YACN;gBAAE,KAAK;gBAAiB,OAAO;gBAA4B,MAAM;YAAO;YACxE;gBAAE,KAAK;gBAAgB,OAAO;gBAAiB,MAAM;YAAO;YAC5D;gBAAE,KAAK;gBAAgB,OAAO;gBAAiB,MAAM;YAAO;YAC5D;gBAAE,KAAK;gBAAO,OAAO;gBAAO,MAAM;YAAO;YACzC;gBAAE,KAAK;gBAAgB,OAAO;gBAA4B,MAAM;YAAO;SACxE;IACH;IAEE;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;YACN;gBAAE,KAAK;gBAAgB,OAAO;gBAAkB,MAAM;YAAO;YAC7D;gBAAE,KAAK;gBAAgB,OAAO;gBAAkB,MAAM;YAAO;YAC7D;gBAAE,KAAK;gBAAgB,OAAO;gBAAkB,MAAM;YAAO;YAC7D;gBAAE,KAAK;gBAAgB,OAAO;gBAAkB,MAAM;YAAO;YAC7D;gBAAE,KAAK;gBAAgB,OAAO;gBAAkB,MAAM;YAAO;SAC9D;IACH;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;YACN;gBAAE,KAAK;gBAAW,OAAO;gBAAkB,MAAM;YAAS;YAC1D;gBAAE,KAAK;gBAAa,OAAO;gBAAoB,MAAM;YAAS;YAC9D;gBAAE,KAAK;gBAAc,OAAO;gBAAsB,MAAM;YAAS;YACjE;gBAAE,KAAK;gBAAe,OAAO;gBAAgB,MAAM;YAAS;YAC5D;gBAAE,KAAK;gBAAW,OAAO;gBAAW,MAAM;YAAS;YACnD;gBAAE,KAAK;gBAAoB,OAAO;gBAAqB,MAAM;YAAS;SACvE;IACH;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;YACN;gBAAE,KAAK;gBAAU,OAAO;gBAAmB,MAAM;YAAW;YAC5D;gBAAE,KAAK;gBAAW,OAAO;gBAAoB,MAAM;YAAU;YAC7D;gBAAE,KAAK;gBAAe,OAAO;gBAAgB,MAAM;YAAU;YAC7D;gBAAE,KAAK;gBAAY,OAAO;gBAAqB,MAAM;YAAU;SAChE;IACH;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;YACN;gBAAE,KAAK;gBAAQ,OAAO;gBAAoB,MAAM;YAAW;SAC5D;IACH;CACD","debugId":null}},
    {"offset": {"line": 548, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/app/my-business/form-builder/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { Checkbox } from '@/src/components/ui/checkbox';\r\nimport { getFormConfigurationByCompanyId, saveFormConfiguration } from '@/src/lib/services/Configirations/formConfigurationService';\r\nimport { predefinedFormTemplates } from '@/src/lib/formConfigurations/predefinedFormTemplates';\r\n\r\ninterface Props {\r\n  companyId: string;\r\n  userId: string;\r\n}\r\n\r\ninterface SelectedSection {\r\n  sectionId: string;\r\n  enabledFields: string[];\r\n}\r\n\r\nexport default function FormBuilder({ companyId, userId }: Props) {\r\n  const [selectedSections, setSelectedSections] = useState<SelectedSection[]>([]);\r\n  const [saving, setSaving] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Load existing configuration\r\n  useEffect(() => {\r\n    const fetchConfig = async () => {\r\n      try {\r\n        const config = await getFormConfigurationByCompanyId(companyId);\r\n        if (config?.selectedSections) {\r\n          setSelectedSections(config.selectedSections);\r\n        }\r\n      } catch (error) {\r\n        console.error('❌ Failed to load form config:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchConfig();\r\n  }, [companyId]);\r\n\r\n  const toggleField = (sectionId: string, fieldKey: string) => {\r\n    setSelectedSections((prev) => {\r\n      const section = prev.find((s) => s.sectionId === sectionId);\r\n      if (!section) {\r\n        return [...prev, { sectionId, enabledFields: [fieldKey] }];\r\n      }\r\n      const isEnabled = section.enabledFields.includes(fieldKey);\r\n      const updatedFields = isEnabled\r\n        ? section.enabledFields.filter((f) => f !== fieldKey)\r\n        : [...section.enabledFields, fieldKey];\r\n      return prev.map((s) =>\r\n        s.sectionId === sectionId ? { ...s, enabledFields: updatedFields } : s\r\n      );\r\n    });\r\n  };\r\n\r\n  const isFieldEnabled = (sectionId: string, fieldKey: string) => {\r\n    const section = selectedSections.find((s) => s.sectionId === sectionId);\r\n    return section?.enabledFields.includes(fieldKey);\r\n  };\r\n\r\n  const save = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await saveFormConfiguration({\r\n        companyId,\r\n        createdBy: userId,\r\n        selectedSections,\r\n        updatedAt: new Date(),\r\n      });\r\n    } catch (err) {\r\n      console.error('❌ Failed to save config:', err);\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading form template...</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-6 p-6 max-w-5xl mx-auto\">\r\n      <h1 className=\"text-2xl font-semibold mb-4\">🧩 Select Form Sections & Fields</h1>\r\n\r\n      {predefinedFormTemplates.map((section) => (\r\n        <div key={section.id} className=\"border rounded-lg p-4 shadow-sm bg-white\">\r\n          <h2 className=\"font-semibold text-lg mb-2\">{section.title}</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n            {section.fields.map((field) => (\r\n              <label key={field.key} className=\"flex items-center space-x-2\">\r\n                <Checkbox\r\n                  checked={isFieldEnabled(section.id, field.key)}\r\n                  onCheckedChange={() => toggleField(section.id, field.key)}\r\n                />\r\n                <span>{field.label}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      <div className=\"pt-4 flex gap-4\">\r\n        <Button onClick={save} disabled={saving}>\r\n          💾 {saving ? 'Saving...' : 'Save Configuration'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}