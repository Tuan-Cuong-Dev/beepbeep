{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/input.tsx"],"sourcesContent":["import { ReactNode, InputHTMLAttributes } from 'react';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  className?: string;\r\n  icon?: ReactNode;\r\n}\r\n\r\nexport const Input = ({ className = '', icon, ...props }: InputProps) => {\r\n  return (\r\n    <div className={`flex items-center border border-[#00d289] rounded-sm p-2 ${className}`}>\r\n      {icon && <span className=\"mr-2\">{icon}</span>}\r\n      <input\r\n        className=\"flex-1 outline-none bg-transparent\"\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAOO,MAAM,QAAQ,CAAC,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,GAAG,OAAmB;IAClE,qBACE,6LAAC;QAAI,WAAW,CAAC,yDAAyD,EAAE,WAAW;;YACpF,sBAAQ,6LAAC;gBAAK,WAAU;0BAAQ;;;;;;0BACjC,6LAAC;gBACC,WAAU;gBACT,GAAG,KAAK;;;;;;;;;;;;AAIjB;KAVa","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/button.tsx"],"sourcesContent":["import { ReactNode } from 'react';\r\n\r\ntype ButtonVariant =\r\n  | 'default'\r\n  | 'ghost'\r\n  | 'outline'\r\n  | 'secondary'\r\n  | 'danger'\r\n  | 'greenOutline'\r\n  | 'destructive';\r\n\r\ninterface ButtonProps {\r\n  className?: string;\r\n  children: ReactNode;\r\n  onClick?: () => void;\r\n  type?: 'button' | 'submit' | 'reset';\r\n  variant?: ButtonVariant;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport const Button = ({\r\n  className = '',\r\n  children,\r\n  onClick,\r\n  type = 'button',\r\n  variant = 'default',\r\n  disabled = false,\r\n}: ButtonProps) => {\r\n  const baseClass =\r\n    'inline-flex items-center justify-center px-4 py-2 font-semibold rounded-md transition-all text-sm';\r\n\r\n  const variantClass: Record<ButtonVariant, string> = {\r\n    default: 'bg-[#00d289] text-white border border-[#00d289] hover:bg-[#00b67a]',\r\n    ghost: 'bg-transparent text-[#00d289] border border-transparent hover:bg-[#e6fff5]',\r\n    outline: 'bg-white text-[#00d289] border border-[#00d289] hover:bg-[#f0fdf8]',\r\n    secondary: 'bg-gray-100 text-gray-800 border border-gray-300 hover:bg-gray-200',\r\n    danger: 'bg-red-500 text-white border border-red-500 hover:bg-red-600',\r\n    greenOutline: 'bg-transparent text-[#00d289] border border-[#00d289] hover:bg-[#00d289]/10',\r\n    destructive: 'bg-white text-red-600 border border-red-500 hover:bg-red-50',\r\n  };\r\n\r\n  const disabledClass = disabled ? 'opacity-50 pointer-events-none cursor-not-allowed' : '';\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      disabled={disabled}\r\n      className={`${baseClass} ${variantClass[variant]} ${disabledClass} ${className}`}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAoBO,MAAM,SAAS,CAAC,EACrB,YAAY,EAAE,EACd,QAAQ,EACR,OAAO,EACP,OAAO,QAAQ,EACf,UAAU,SAAS,EACnB,WAAW,KAAK,EACJ;IACZ,MAAM,YACJ;IAEF,MAAM,eAA8C;QAClD,SAAS;QACT,OAAO;QACP,SAAS;QACT,WAAW;QACX,QAAQ;QACR,cAAc;QACd,aAAa;IACf;IAEA,MAAM,gBAAgB,WAAW,sDAAsD;IAEvF,qBACE,6LAAC;QACC,MAAM;QACN,UAAU;QACV,WAAW,GAAG,UAAU,CAAC,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,cAAc,CAAC,EAAE,WAAW;QAChF,SAAS;kBAER;;;;;;AAGP;KAjCa","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/select.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ReactNode, useState, useRef, useEffect } from \"react\";\r\n\r\ninterface SelectProps {\r\n  className?: string;\r\n  children: ReactNode;\r\n  placeholder?: string;\r\n  value?: string;\r\n  onChange?: (value: string) => void;\r\n}\r\n\r\ninterface SelectItemProps {\r\n  value: string;\r\n  children: ReactNode;\r\n  onSelect: (value: string, label: string) => void;\r\n}\r\n\r\nexport const Select = ({\r\n  className = \"\",\r\n  children,\r\n}: {\r\n  className?: string;\r\n  children: ReactNode;\r\n}) => {\r\n  return <div className={`relative ${className}`}>{children}</div>;\r\n};\r\n\r\nexport const SelectTrigger = ({\r\n  className = \"\",\r\n  value,\r\n  placeholder,\r\n  onClick,\r\n}: {\r\n  className?: string;\r\n  value?: string;\r\n  placeholder?: string;\r\n  onClick?: () => void;\r\n}) => {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n      className={`w-full text-left px-4 py-2 border  rounded-sm ${className}`}\r\n    >\r\n      {value || placeholder || \"Select...\"}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const SelectContent = ({\r\n  className = \"\",\r\n  children,\r\n  open,\r\n}: {\r\n  className?: string;\r\n  children: ReactNode;\r\n  open: boolean;\r\n}) => {\r\n  if (!open) return null;\r\n  return (\r\n    <div\r\n      className={`absolute z-10 mt-2 w-full bg-white rounded-lg shadow-lg ${className}`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectItem = ({ value, children, onSelect }: SelectItemProps) => {\r\n  return (\r\n    <div\r\n      className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\r\n      onClick={() => onSelect(value, children?.toString() || \"\")}\r\n      role=\"option\"\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Wrapper Component để dễ sử dụng\r\nexport const SimpleSelect = ({\r\n  options,\r\n  placeholder = \"Select...\",\r\n  value,\r\n  onChange,\r\n  className,\r\n}: {\r\n  options: { label: string; value: string }[];\r\n  placeholder?: string;\r\n  value?: string;\r\n  onChange: (val: string) => void;\r\n  className?: string;\r\n}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedLabel, setSelectedLabel] = useState<string | undefined>(\r\n    options.find((opt) => opt.value === value)?.label\r\n  );\r\n\r\n  const wrapperRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (\r\n        wrapperRef.current &&\r\n        !wrapperRef.current.contains(event.target as Node)\r\n      ) {\r\n        setOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <Select className={className}>\r\n      <div ref={wrapperRef}>\r\n        <SelectTrigger\r\n          value={selectedLabel}\r\n          placeholder={placeholder}\r\n          onClick={() => setOpen(!open)}\r\n        />\r\n        <SelectContent open={open}>\r\n          {options.map((opt) => (\r\n            <SelectItem\r\n              key={opt.value}\r\n              value={opt.value}\r\n              onSelect={(val, label) => {\r\n                onChange(val);\r\n                setSelectedLabel(label);\r\n                setOpen(false);\r\n              }}\r\n            >\r\n              {opt.label}\r\n            </SelectItem>\r\n          ))}\r\n        </SelectContent>\r\n      </div>\r\n    </Select>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAEA;;;AAFA;;AAkBO,MAAM,SAAS,CAAC,EACrB,YAAY,EAAE,EACd,QAAQ,EAIT;IACC,qBAAO,6LAAC;QAAI,WAAW,CAAC,SAAS,EAAE,WAAW;kBAAG;;;;;;AACnD;KARa;AAUN,MAAM,gBAAgB,CAAC,EAC5B,YAAY,EAAE,EACd,KAAK,EACL,WAAW,EACX,OAAO,EAMR;IACC,qBACE,6LAAC;QACC,MAAK;QACL,SAAS;QACT,WAAW,CAAC,8CAA8C,EAAE,WAAW;kBAEtE,SAAS,eAAe;;;;;;AAG/B;MApBa;AAsBN,MAAM,gBAAgB,CAAC,EAC5B,YAAY,EAAE,EACd,QAAQ,EACR,IAAI,EAKL;IACC,IAAI,CAAC,MAAM,OAAO;IAClB,qBACE,6LAAC;QACC,WAAW,CAAC,wDAAwD,EAAE,WAAW;kBAEhF;;;;;;AAGP;MAjBa;AAmBN,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAmB;IACvE,qBACE,6LAAC;QACC,WAAU;QACV,SAAS,IAAM,SAAS,OAAO,UAAU,cAAc;QACvD,MAAK;kBAEJ;;;;;;AAGP;MAVa;AAaN,MAAM,eAAe,CAAC,EAC3B,OAAO,EACP,cAAc,WAAW,EACzB,KAAK,EACL,QAAQ,EACR,SAAS,EAOV;;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAC/C,QAAQ,IAAI;iCAAC,CAAC,MAAQ,IAAI,KAAK,KAAK;iCAAQ;IAG9C,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM;6DAAqB,CAAC;oBAC1B,IACE,WAAW,OAAO,IAClB,CAAC,WAAW,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GACzC;wBACA,QAAQ;oBACV;gBACF;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;0CAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;iCAAG,EAAE;IAEL,qBACE,6LAAC;QAAO,WAAW;kBACjB,cAAA,6LAAC;YAAI,KAAK;;8BACR,6LAAC;oBACC,OAAO;oBACP,aAAa;oBACb,SAAS,IAAM,QAAQ,CAAC;;;;;;8BAE1B,6LAAC;oBAAc,MAAM;8BAClB,QAAQ,GAAG,CAAC,CAAC,oBACZ,6LAAC;4BAEC,OAAO,IAAI,KAAK;4BAChB,UAAU,CAAC,KAAK;gCACd,SAAS;gCACT,iBAAiB;gCACjB,QAAQ;4BACV;sCAEC,IAAI,KAAK;2BARL,IAAI,KAAK;;;;;;;;;;;;;;;;;;;;;AAe5B;GA3Da;MAAA","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/services/staff/staffService.tsx"],"sourcesContent":["// lib/staff/staffService.ts\r\n\r\nimport {\r\n    collection,\r\n    addDoc,\r\n    updateDoc,\r\n    deleteDoc,\r\n    getDocs,\r\n    doc,\r\n    getDoc,\r\n    serverTimestamp,\r\n    query,\r\n    where\r\n  } from 'firebase/firestore';\r\n  import { db } from '@/src/firebaseConfig';\r\n  import { Staff } from '@/src/lib/staff/staffTypes';\r\n  \r\n  const STAFF_COLLECTION = 'staffs';\r\n  \r\n  export const getAllStaffs = async (companyId: string): Promise<Staff[]> => {\r\n    const q = query(collection(db, STAFF_COLLECTION), where('companyId', '==', companyId));\r\n    const snapshot = await getDocs(q);\r\n    return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Staff));\r\n  };\r\n  \r\n  export const getStaffById = async (id: string): Promise<Staff | null> => {\r\n    const docRef = doc(db, STAFF_COLLECTION, id);\r\n    const snapshot = await getDoc(docRef);\r\n    return snapshot.exists() ? ({ id: snapshot.id, ...snapshot.data() } as Staff) : null;\r\n  };\r\n  \r\n  export const createStaff = async (data: Omit<Staff, 'id' | 'createdAt' | 'updatedAt'>): Promise<Staff> => {\r\n    const newDoc = await addDoc(collection(db, STAFF_COLLECTION), {\r\n      ...data,\r\n      createdAt: serverTimestamp(),\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n    return { id: newDoc.id, ...data, createdAt: serverTimestamp(), updatedAt: serverTimestamp() } as Staff;\r\n  };\r\n  \r\n  export const updateStaff = async (id: string, data: Partial<Staff>) => {\r\n    const docRef = doc(db, STAFF_COLLECTION, id);\r\n    await updateDoc(docRef, {\r\n      ...data,\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n  };\r\n  \r\n  export const deleteStaff = async (id: string) => {\r\n    const docRef = doc(db, STAFF_COLLECTION, id);\r\n    await deleteDoc(docRef);\r\n  };\r\n  "],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;;AAE5B;AAAA;AAYE;AAAA;;;AAGA,MAAM,mBAAmB;AAElB,MAAM,eAAe,OAAO;IACjC,MAAM,IAAI,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,mBAAmB,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,aAAa,MAAM;IAC3E,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;IAC/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;YAAE,IAAI,IAAI,EAAE;YAAE,GAAG,IAAI,IAAI,EAAE;QAAC,CAAU;AACzE;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,SAAS,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,kBAAkB;IACzC,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE;IAC9B,OAAO,SAAS,MAAM,KAAM;QAAE,IAAI,SAAS,EAAE;QAAE,GAAG,SAAS,IAAI,EAAE;IAAC,IAAc;AAClF;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,SAAS,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,mBAAmB;QAC5D,GAAG,IAAI;QACP,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;QACzB,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;IAC3B;IACA,OAAO;QAAE,IAAI,OAAO,EAAE;QAAE,GAAG,IAAI;QAAE,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;QAAK,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;IAAI;AAC9F;AAEO,MAAM,cAAc,OAAO,IAAY;IAC5C,MAAM,SAAS,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,kBAAkB;IACzC,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,QAAQ;QACtB,GAAG,IAAI;QACP,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;IAC3B;AACF;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,SAAS,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,kBAAkB;IACzC,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE;AAClB","debugId":null}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/staff/inviteUserAsStaff.ts"],"sourcesContent":["import { collection, addDoc, getDocs, query, where, Timestamp } from 'firebase/firestore';\r\nimport { db } from '@/src/firebaseConfig';\r\n\r\nexport async function inviteUserAsStaff({\r\n  email,\r\n  companyId,\r\n  stationId,\r\n  role,\r\n  message\r\n}: {\r\n  email: string;\r\n  companyId: string;\r\n  stationId?: string;\r\n  role: 'support' | 'technician' | 'station_manager' | 'company_admin';\r\n  message?: string;\r\n}) {\r\n  // 1. Tìm userId qua email\r\n  const q = query(collection(db, 'users'), where('email', '==', email));\r\n  const snap = await getDocs(q);\r\n\r\n  if (snap.empty) throw new Error('No user found with this email');\r\n\r\n  const userId = snap.docs[0].id;\r\n\r\n  // 2. Gửi invitation vào collection 'messages'\r\n  const invitation = {\r\n    userId,\r\n    type: 'invitation',\r\n    role,\r\n    companyId,\r\n    stationId: stationId || null,\r\n    status: 'pending',\r\n    content: message || `You are invited to join our company as ${role}.`,\r\n    createdAt: Timestamp.now(),\r\n  };\r\n\r\n  await addDoc(collection(db, 'messages'), invitation);\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,eAAe,kBAAkB,EACtC,KAAK,EACL,SAAS,EACT,SAAS,EACT,IAAI,EACJ,OAAO,EAOR;IACC,0BAA0B;IAC1B,MAAM,IAAI,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,UAAU,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,SAAS,MAAM;IAC9D,MAAM,OAAO,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;IAE3B,IAAI,KAAK,KAAK,EAAE,MAAM,IAAI,MAAM;IAEhC,MAAM,SAAS,KAAK,IAAI,CAAC,EAAE,CAAC,EAAE;IAE9B,8CAA8C;IAC9C,MAAM,aAAa;QACjB;QACA,MAAM;QACN;QACA;QACA,WAAW,aAAa;QACxB,QAAQ;QACR,SAAS,WAAW,CAAC,uCAAuC,EAAE,KAAK,CAAC,CAAC;QACrE,WAAW,sKAAA,CAAA,YAAS,CAAC,GAAG;IAC1B;IAEA,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,aAAa;AAC3C","debugId":null}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/utils.ts"],"sourcesContent":["// src/lib/utils.ts\r\nexport function cn(...args: any[]) {\r\n    return args.filter(Boolean).join(\" \");\r\n  }\r\n  "],"names":[],"mappings":"AAAA,mBAAmB;;;;AACZ,SAAS,GAAG,GAAG,IAAW;IAC7B,OAAO,KAAK,MAAM,CAAC,SAAS,IAAI,CAAC;AACnC","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\r\nimport { X } from \"lucide-react\";\r\nimport { cn } from \"@/src/lib/utils\";\r\n\r\nconst Dialog = DialogPrimitive.Root;\r\nconst DialogTrigger = DialogPrimitive.Trigger;\r\nconst DialogPortal = DialogPrimitive.Portal;\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-all\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed z-50 left-1/2 top-1/2 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-xl bg-white p-6 shadow-lg transition-all\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 text-gray-500 hover:text-gray-700\">\r\n        <X className=\"h-5 w-5\" />\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n));\r\nDialogContent.displayName = DialogPrimitive.Content.displayName;\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"mb-4 space-y-2 text-center\", className)} {...props} />\r\n);\r\nDialogHeader.displayName = \"DialogHeader\";\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n));\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"flex justify-end gap-2 pt-4\", className)} {...props} />\r\n);\r\nDialogFooter.displayName = \"DialogFooter\";\r\n\r\nexport {\r\n  Dialog,\r\n  DialogTrigger,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AACnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAC7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kIACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;kCAC/B,cAAA,6LAAC,+LAAA,CAAA,IAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKrB,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAAa,GAAG,KAAK;;;;;;MAJlE;AAMN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAAa,GAAG,KAAK;;;;;;MAJnE;AAMN,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/NotificationDialog.tsx"],"sourcesContent":["import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/src/components/ui/dialog';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { CheckCircle, AlertCircle, Info, Trash2 } from 'lucide-react';\r\n\r\ntype NotificationType = 'success' | 'error' | 'info' | 'confirm';\r\n\r\nexport interface NotificationDialogProps {\r\n  open: boolean;\r\n  type: NotificationType;\r\n  title: string;\r\n  description?: string;\r\n  onClose: () => void;\r\n  onConfirm?: () => void;\r\n}\r\n\r\nexport default function NotificationDialog({\r\n  open,\r\n  type,\r\n  title,\r\n  description,\r\n  onClose,\r\n  onConfirm,\r\n}: NotificationDialogProps) {\r\n  const renderIcon = () => {\r\n    switch (type) {\r\n      case 'success': return <CheckCircle className=\"text-green-500 w-6 h-6\" />;\r\n      case 'error': return <AlertCircle className=\"text-red-500 w-6 h-6\" />;\r\n      case 'info': return <Info className=\"text-blue-500 w-6 h-6\" />;\r\n      case 'confirm': return <Trash2 className=\"text-orange-500 w-6 h-6\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-md\">\r\n        <DialogHeader className=\"flex items-center gap-3\">\r\n          {renderIcon()}\r\n          <DialogTitle>{title}</DialogTitle>\r\n        </DialogHeader>\r\n        {description && <p className=\"text-sm text-gray-600 mt-2\">{description}</p>}\r\n\r\n        <DialogFooter className=\"mt-4\">\r\n          {type === 'confirm' ? (\r\n            <>\r\n              <Button variant=\"ghost\" onClick={onClose}>Cancel</Button>\r\n              <Button variant=\"destructive\" onClick={onConfirm}>Confirm</Button>\r\n            </>\r\n          ) : (\r\n            <Button onClick={onClose}>OK</Button>\r\n          )}\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;;;;;AAae,SAAS,mBAAmB,EACzC,IAAI,EACJ,IAAI,EACJ,KAAK,EACL,WAAW,EACX,OAAO,EACP,SAAS,EACe;IACxB,MAAM,aAAa;QACjB,OAAQ;YACN,KAAK;gBAAW,qBAAO,6LAAC,8NAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;YAC9C,KAAK;gBAAS,qBAAO,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;YAC5C,KAAK;gBAAQ,qBAAO,6LAAC,qMAAA,CAAA,OAAI;oBAAC,WAAU;;;;;;YACpC,KAAK;gBAAW,qBAAO,6LAAC,6MAAA,CAAA,SAAM;oBAAC,WAAU;;;;;;QAC3C;IACF;IAEA,qBACE,6LAAC,qIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,qIAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,6LAAC,qIAAA,CAAA,eAAY;oBAAC,WAAU;;wBACrB;sCACD,6LAAC,qIAAA,CAAA,cAAW;sCAAE;;;;;;;;;;;;gBAEf,6BAAe,6LAAC;oBAAE,WAAU;8BAA8B;;;;;;8BAE3D,6LAAC,qIAAA,CAAA,eAAY;oBAAC,WAAU;8BACrB,SAAS,0BACR;;0CACE,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAQ,SAAS;0CAAS;;;;;;0CAC1C,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAc,SAAS;0CAAW;;;;;;;qDAGpD,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAS;kCAAS;;;;;;;;;;;;;;;;;;;;;;AAMtC;KAvCwB","debugId":null}},
    {"offset": {"line": 623, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/app/messages/page.tsx"],"sourcesContent":["// components/staff/StaffForm.tsx\r\n'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Input } from '@/src/components/ui/input';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { SimpleSelect } from '@/src/components/ui/select';\r\nimport { Staff } from '@/src/lib/staff/staffTypes';\r\nimport { createStaff, updateStaff } from '@/src/lib/services/staff/staffService';\r\nimport { inviteUserAsStaff } from '@/src/lib/staff/inviteUserAsStaff';\r\nimport NotificationDialog from '@/src/components/ui/NotificationDialog';\r\n\r\ninterface Props {\r\n  editingStaff: Staff | null;\r\n  companyId: string;\r\n  onSave: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst ROLE_OPTIONS = [\r\n  { label: 'Company Admin', value: 'company_admin' },\r\n  { label: 'Station Manager', value: 'station_manager' },\r\n  { label: 'Technician', value: 'technician' },\r\n  { label: 'Support', value: 'support' },\r\n];\r\n\r\nexport default function StaffForm({ editingStaff, companyId, onSave, onCancel }: Props) {\r\n  const [form, setForm] = useState<Omit<Staff, 'id' | 'createdAt' | 'updatedAt'>>({\r\n    userId: '',\r\n    companyId,\r\n    stationId: '',\r\n    role: 'support',\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n  });\r\n  const [dialog, setDialog] = useState<{ open: boolean; type: any; title: string; description?: string }>({\r\n    open: false,\r\n    type: 'info',\r\n    title: '',\r\n    description: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (editingStaff) {\r\n      const { id, createdAt, updatedAt, ...rest } = editingStaff;\r\n      setForm(rest);\r\n    }\r\n  }, [editingStaff]);\r\n\r\n  const handleChange = (key: keyof typeof form, value: string) => {\r\n    setForm(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!form.email || !form.role) {\r\n      setDialog({ open: true, type: 'error', title: 'Missing Info', description: 'Email and Role are required.' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (editingStaff) {\r\n        await updateStaff(editingStaff.id, form);\r\n        setDialog({ open: true, type: 'success', title: 'Staff Updated Successfully' });\r\n      } else {\r\n        await inviteUserAsStaff({\r\n          email: form.email,\r\n          companyId,\r\n          stationId: form.stationId || undefined,\r\n          role: form.role,\r\n          message: `${form.name} is invited to join your company as ${form.role}`,\r\n        });\r\n        setDialog({ open: true, type: 'success', title: 'Invitation Sent Successfully' });\r\n      }\r\n      onSave();\r\n    } catch (error: any) {\r\n      setDialog({ open: true, type: 'error', title: 'Error', description: error.message || 'Failed to process request.' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"space-y-4\">\r\n        <Input placeholder=\"User ID\" value={form.userId} onChange={e => handleChange('userId', e.target.value)} disabled={!!editingStaff} />\r\n        <Input placeholder=\"Full Name\" value={form.name} onChange={e => handleChange('name', e.target.value)} />\r\n        <Input placeholder=\"Email\" value={form.email} onChange={e => handleChange('email', e.target.value)} />\r\n        <Input placeholder=\"Phone\" value={form.phone} onChange={e => handleChange('phone', e.target.value)} />\r\n        <Input placeholder=\"Station ID (optional)\" value={form.stationId ?? ''} onChange={e => handleChange('stationId', e.target.value)} />\r\n        <SimpleSelect\r\n          options={ROLE_OPTIONS}\r\n          value={form.role}\r\n          onChange={(val) => handleChange('role', val)}\r\n          placeholder=\"Select role\"\r\n        />\r\n        <div className=\"flex gap-2\">\r\n          <Button onClick={handleSubmit}>Save</Button>\r\n          <Button variant=\"ghost\" onClick={onCancel}>Cancel</Button>\r\n        </div>\r\n      </div>\r\n      <NotificationDialog\r\n        open={dialog.open}\r\n        type={dialog.type}\r\n        title={dialog.title}\r\n        description={dialog.description}\r\n        onClose={() => setDialog({ ...dialog, open: false })}\r\n      />\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,iCAAiC;;;;;AAGjC;AACA;AACA;AACA;AAEA;AACA;AACA;;;AATA;;;;;;;;AAkBA,MAAM,eAAe;IACnB;QAAE,OAAO;QAAiB,OAAO;IAAgB;IACjD;QAAE,OAAO;QAAmB,OAAO;IAAkB;IACrD;QAAE,OAAO;QAAc,OAAO;IAAa;IAC3C;QAAE,OAAO;QAAW,OAAO;IAAU;CACtC;AAEc,SAAS,UAAU,EAAE,YAAY,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAS;;IACpF,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiD;QAC9E,QAAQ;QACR;QACA,WAAW;QACX,MAAM;QACN,MAAM;QACN,OAAO;QACP,OAAO;IACT;IACA,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAqE;QACtG,MAAM;QACN,MAAM;QACN,OAAO;QACP,aAAa;IACf;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,IAAI,cAAc;gBAChB,MAAM,EAAE,EAAE,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,MAAM,GAAG;gBAC9C,QAAQ;YACV;QACF;8BAAG;QAAC;KAAa;IAEjB,MAAM,eAAe,CAAC,KAAwB;QAC5C,QAAQ,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,IAAI,EAAE;YAAM,CAAC;IAC5C;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,IAAI,EAAE;YAC7B,UAAU;gBAAE,MAAM;gBAAM,MAAM;gBAAS,OAAO;gBAAgB,aAAa;YAA+B;YAC1G;QACF;QAEA,IAAI;YACF,IAAI,cAAc;gBAChB,MAAM,CAAA,GAAA,mJAAA,CAAA,cAAW,AAAD,EAAE,aAAa,EAAE,EAAE;gBACnC,UAAU;oBAAE,MAAM;oBAAM,MAAM;oBAAW,OAAO;gBAA6B;YAC/E,OAAO;gBACL,MAAM,CAAA,GAAA,2IAAA,CAAA,oBAAiB,AAAD,EAAE;oBACtB,OAAO,KAAK,KAAK;oBACjB;oBACA,WAAW,KAAK,SAAS,IAAI;oBAC7B,MAAM,KAAK,IAAI;oBACf,SAAS,GAAG,KAAK,IAAI,CAAC,oCAAoC,EAAE,KAAK,IAAI,EAAE;gBACzE;gBACA,UAAU;oBAAE,MAAM;oBAAM,MAAM;oBAAW,OAAO;gBAA+B;YACjF;YACA;QACF,EAAE,OAAO,OAAY;YACnB,UAAU;gBAAE,MAAM;gBAAM,MAAM;gBAAS,OAAO;gBAAS,aAAa,MAAM,OAAO,IAAI;YAA6B;QACpH;IACF;IAEA,qBACE;;0BACE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAA,CAAA,QAAK;wBAAC,aAAY;wBAAU,OAAO,KAAK,MAAM;wBAAE,UAAU,CAAA,IAAK,aAAa,UAAU,EAAE,MAAM,CAAC,KAAK;wBAAG,UAAU,CAAC,CAAC;;;;;;kCACpH,6LAAC,oIAAA,CAAA,QAAK;wBAAC,aAAY;wBAAY,OAAO,KAAK,IAAI;wBAAE,UAAU,CAAA,IAAK,aAAa,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;kCACnG,6LAAC,oIAAA,CAAA,QAAK;wBAAC,aAAY;wBAAQ,OAAO,KAAK,KAAK;wBAAE,UAAU,CAAA,IAAK,aAAa,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;kCACjG,6LAAC,oIAAA,CAAA,QAAK;wBAAC,aAAY;wBAAQ,OAAO,KAAK,KAAK;wBAAE,UAAU,CAAA,IAAK,aAAa,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;kCACjG,6LAAC,oIAAA,CAAA,QAAK;wBAAC,aAAY;wBAAwB,OAAO,KAAK,SAAS,IAAI;wBAAI,UAAU,CAAA,IAAK,aAAa,aAAa,EAAE,MAAM,CAAC,KAAK;;;;;;kCAC/H,6LAAC,qIAAA,CAAA,eAAY;wBACX,SAAS;wBACT,OAAO,KAAK,IAAI;wBAChB,UAAU,CAAC,MAAQ,aAAa,QAAQ;wBACxC,aAAY;;;;;;kCAEd,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAS;0CAAc;;;;;;0CAC/B,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAQ,SAAS;0CAAU;;;;;;;;;;;;;;;;;;0BAG/C,6LAAC,iJAAA,CAAA,UAAkB;gBACjB,MAAM,OAAO,IAAI;gBACjB,MAAM,OAAO,IAAI;gBACjB,OAAO,OAAO,KAAK;gBACnB,aAAa,OAAO,WAAW;gBAC/B,SAAS,IAAM,UAAU;wBAAE,GAAG,MAAM;wBAAE,MAAM;oBAAM;;;;;;;;AAI1D;GAlFwB;KAAA","debugId":null}}]
}