{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/landingpage/Preferences.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface PreferencesProps {\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function Preferences({ onClose }: PreferencesProps) {\r\n  const [activeTab, setActiveTab] = useState('region');\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-2xl p-6 w-full max-w-xl shadow-lg relative\">\r\n        {/* Close Button */}\r\n        <button\r\n          className=\"absolute top-4 right-4 text-gray-500 hover:text-black\"\r\n          onClick={onClose}\r\n        >\r\n          <X size={24} />\r\n        </button>\r\n\r\n        {/* Header */}\r\n        <h2 className=\"text-2xl font-bold mb-4\">Preferences</h2>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex space-x-4 border-b mb-4\">\r\n          <button\r\n            className={`pb-2 ${activeTab === 'region' ? 'border-b-2 border-black font-medium' : 'text-gray-500'}`}\r\n            onClick={() => setActiveTab('region')}\r\n          >\r\n            Region & Language\r\n          </button>\r\n          <button\r\n            className={`pb-2 ${activeTab === 'currency' ? 'border-b-2 border-black font-medium' : 'text-gray-500'}`}\r\n            onClick={() => setActiveTab('currency')}\r\n          >\r\n            Currency\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        {activeTab === 'region' ? (\r\n          <div>\r\n            <h3 className=\"text-lg font-medium mb-2\">Select Region | Language</h3>\r\n            <div className=\"text-sm grid grid-cols-4 gap-3\">\r\n              {[\r\n                'Vietnam üáªüá≥',\r\n                'English (UK) üá¨üáß',\r\n                'Japan üáØüáµ',\r\n                'China üá®üá≥',\r\n                'South Korea üá∞üá∑',\r\n                'Russia üá∑üá∫',\r\n                'France üá´üá∑',\r\n                'Germany üá©üá™',\r\n                'Italy üáÆüáπ',\r\n                'Spain üá™üá∏',\r\n                'Portugal üáµüáπ',\r\n                'Saudi Arabia üá∏üá¶',\r\n              ].map((region) => (\r\n                <button\r\n                  key={region}\r\n                  className=\"p-2 rounded-lg border hover:bg-[#00d289] transition \"\r\n                >\r\n                  {region}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <h3 className=\"text-lg font-medium mb-2\">Select Currency</h3>\r\n            <div className=\"text-sm grid grid-cols-4 gap-4\">\r\n              {[\r\n                'VND (Vietnamese Dong)',\r\n                'GBP (British Pound Sterling)',\r\n                'JPY (Japanese Yen)',\r\n                'CNY (Chinese Yuan)',\r\n                'KRW (South Korean Won)',\r\n                'RUB (Russian Ruble)',\r\n                'EUR (Euro)',\r\n                'SAR (Saudi Riyal)',\r\n              ].map((currency) => (\r\n                <button\r\n                  key={currency}\r\n                  className=\"p-2 rounded-lg border hover:bg-[#00d289] transition \"\r\n                >\r\n                  {currency}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Footer */}\r\n        <p className=\"text-sm text-gray-500 mt-4\">\r\n          All preference changes are optional and will be saved for your session.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;AAMe,SAAS,YAAY,EAAE,OAAO,EAAoB;;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBACC,WAAU;oBACV,SAAS;8BAET,cAAA,6LAAC,+LAAA,CAAA,IAAC;wBAAC,MAAM;;;;;;;;;;;8BAIX,6LAAC;oBAAG,WAAU;8BAA0B;;;;;;8BAGxC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,WAAW,CAAC,KAAK,EAAE,cAAc,WAAW,wCAAwC,iBAAiB;4BACrG,SAAS,IAAM,aAAa;sCAC7B;;;;;;sCAGD,6LAAC;4BACC,WAAW,CAAC,KAAK,EAAE,cAAc,aAAa,wCAAwC,iBAAiB;4BACvG,SAAS,IAAM,aAAa;sCAC7B;;;;;;;;;;;;gBAMF,cAAc,yBACb,6LAAC;;sCACC,6LAAC;4BAAG,WAAU;sCAA2B;;;;;;sCACzC,6LAAC;4BAAI,WAAU;sCACZ;gCACC;gCACA;gCACA;gCACA;gCACA;gCACA;gCACA;gCACA;gCACA;gCACA;gCACA;gCACA;6BACD,CAAC,GAAG,CAAC,CAAC,uBACL,6LAAC;oCAEC,WAAU;8CAET;mCAHI;;;;;;;;;;;;;;;yCASb,6LAAC;;sCACC,6LAAC;4BAAG,WAAU;sCAA2B;;;;;;sCACzC,6LAAC;4BAAI,WAAU;sCACZ;gCACC;gCACA;gCACA;gCACA;gCACA;gCACA;gCACA;gCACA;6BACD,CAAC,GAAG,CAAC,CAAC,yBACL,6LAAC;oCAEC,WAAU;8CAET;mCAHI;;;;;;;;;;;;;;;;8BAWf,6LAAC;oBAAE,WAAU;8BAA6B;;;;;;;;;;;;;;;;;AAMlD;GA7FwB;KAAA","debugId":null}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/sidebar/SidebarMenu.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  FaTimes,\r\n  FaGlobe,\r\n  FaHome,\r\n  FaInfoCircle,\r\n  FaPhone,\r\n  FaShieldAlt,\r\n} from \"react-icons/fa\";\r\n\r\ninterface SidebarMenuProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function SidebarMenu({ isOpen, onClose }: SidebarMenuProps) {\r\n  // ‚úÖ Do not render if the sidebar is not open\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"\r\n        font-sans fixed top-0 left-0 h-full w-80 bg-white shadow-lg z-[100] p-5\r\n        transform transition-transform duration-300 ease-in-out translate-x-0\r\n      \"\r\n    >\r\n      {/* Close Sidebar Button */}\r\n      <button       \r\n        onClick={onClose} \r\n        className=\"absolute top-4 right-4 text-lg\"\r\n      >\r\n        <FaTimes />\r\n      </button>\r\n\r\n      {/* Header */}\r\n      <div className=\"flex items-center text-gray-800 space-x-2 font-semibold text-lg mb-8\">\r\n        <FaGlobe />\r\n        <span>United States, EN | USD</span>\r\n      </div>\r\n\r\n      {/* Menu Items */}\r\n      <ul className=\"space-y-4 text-gray-800\">\r\n        <li className=\"flex items-center space-x-3 hover:text-blue-500 cursor-pointer\">\r\n          <FaHome />\r\n          <span>Home</span>\r\n        </li>\r\n        <hr />\r\n        <li className=\"flex items-center space-x-3 hover:text-blue-500 cursor-pointer\">\r\n          <FaInfoCircle />\r\n          <span>About Us</span>\r\n        </li>\r\n        <hr />\r\n        <li className=\"flex items-center space-x-3 hover:text-blue-500 cursor-pointer\">\r\n          <FaPhone />\r\n          <span>Contact</span>\r\n        </li>\r\n        <hr />\r\n        <li className=\"flex items-center space-x-3 hover:text-blue-500 cursor-pointer\">\r\n          <FaShieldAlt />\r\n          <span>Policies</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAgBe,SAAS,YAAY,EAAE,MAAM,EAAE,OAAO,EAAoB;IACvE,6CAA6C;IAC7C,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QACC,WAAU;;0BAMV,6LAAC;gBACC,SAAS;gBACT,WAAU;0BAEV,cAAA,6LAAC,iJAAA,CAAA,UAAO;;;;;;;;;;0BAIV,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,iJAAA,CAAA,UAAO;;;;;kCACR,6LAAC;kCAAK;;;;;;;;;;;;0BAIR,6LAAC;gBAAG,WAAU;;kCACZ,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC,iJAAA,CAAA,SAAM;;;;;0CACP,6LAAC;0CAAK;;;;;;;;;;;;kCAER,6LAAC;;;;;kCACD,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC,iJAAA,CAAA,eAAY;;;;;0CACb,6LAAC;0CAAK;;;;;;;;;;;;kCAER,6LAAC;;;;;kCACD,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC,iJAAA,CAAA,UAAO;;;;;0CACR,6LAAC;0CAAK;;;;;;;;;;;;kCAER,6LAAC;;;;;kCACD,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC,iJAAA,CAAA,cAAW;;;;;0CACZ,6LAAC;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;AAKhB;KAjDwB","debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/auth/authService.tsx"],"sourcesContent":["// X·ª≠ l√Ω x√°c th·ª±c ƒëƒÉng nh·∫≠p v·ªõi google account\r\n// X·ª≠ l√Ω signout\r\n\r\nimport { auth, provider, db, signInWithPopup } from \"@/src/firebaseConfig\";\r\nimport { doc, setDoc, getDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { signOut } from \"firebase/auth\";\r\n\r\nconst signOutUser = async () => {\r\n  try {\r\n    await signOut(auth);\r\n    console.log(\"‚úÖ Signed out successfully\");\r\n    window.location.href = \"/\"; // ho·∫∑c d√πng router.push(\"/\") n·∫øu d√πng Next.js router\r\n  } catch (error) {\r\n    console.error(\"‚ùå Error signing out:\", error);\r\n  }\r\n};\r\n\r\nconst signInWithGoogle = async () => {\r\n  try {\r\n    // Hi·ªÉn th·ªã popup ƒëƒÉng nh·∫≠p Google\r\n    const result = await signInWithPopup(auth, provider);\r\n    const user = result.user;\r\n\r\n    // T·∫°o document tham chi·∫øu t·ªõi Firestore\r\n    const userRef = doc(db, \"users\", user.uid);\r\n    const userSnap = await getDoc(userRef);\r\n\r\n    // N·∫øu user ch∆∞a t·ªìn t·∫°i trong Firestore, th√™m m·ªõi\r\n    if (!userSnap.exists()) {\r\n      await setDoc(userRef, {\r\n        uid: user.uid,\r\n        name: user.displayName || \"\",\r\n        email: user.email || \"\",\r\n        photoURL: user.photoURL || \"\",\r\n        role: \"Customer\", // üëà G√°n role m·∫∑c ƒë·ªãnh\r\n        createdAt: serverTimestamp(), // ‚è± D√πng timestamp chu·∫©n\r\n      });\r\n    }\r\n\r\n    console.log(\"‚úÖ User signed in:\", user);\r\n    return user; // Tr·∫£ v·ªÅ user ƒë·ªÉ d√πng trong ·ª©ng d·ª•ng\r\n\r\n  } catch (error: any) {\r\n    if (error.code === \"auth/popup-closed-by-user\") {\r\n      console.warn(\"‚ö†Ô∏è Ng∆∞·ªùi d√πng ƒë√£ ƒë√≥ng c·ª≠a s·ªï ƒëƒÉng nh·∫≠p tr∆∞·ªõc khi ho√†n t·∫•t.\");\r\n    } else {\r\n      console.error(\"‚ùå L·ªói khi ƒëƒÉng nh·∫≠p:\", error);\r\n    }\r\n    return null;\r\n  }\r\n};\r\n\r\nexport { signInWithGoogle, signOutUser };\r\n"],"names":[],"mappings":"AAAA,8CAA8C;AAC9C,gBAAgB;;;;;AAEhB;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,cAAc;IAClB,IAAI;QACF,MAAM,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE,wIAAA,CAAA,OAAI;QAClB,QAAQ,GAAG,CAAC;QACZ,OAAO,QAAQ,CAAC,IAAI,GAAG,KAAK,qDAAqD;IACnF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;IACxC;AACF;AAEA,MAAM,mBAAmB;IACvB,IAAI;QACF,kCAAkC;QAClC,MAAM,SAAS,MAAM,CAAA,GAAA,qNAAA,CAAA,kBAAe,AAAD,EAAE,wIAAA,CAAA,OAAI,EAAE,wIAAA,CAAA,WAAQ;QACnD,MAAM,OAAO,OAAO,IAAI;QAExB,wCAAwC;QACxC,MAAM,UAAU,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,SAAS,KAAK,GAAG;QACzC,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE;QAE9B,kDAAkD;QAClD,IAAI,CAAC,SAAS,MAAM,IAAI;YACtB,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,SAAS;gBACpB,KAAK,KAAK,GAAG;gBACb,MAAM,KAAK,WAAW,IAAI;gBAC1B,OAAO,KAAK,KAAK,IAAI;gBACrB,UAAU,KAAK,QAAQ,IAAI;gBAC3B,MAAM;gBACN,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;YAC3B;QACF;QAEA,QAAQ,GAAG,CAAC,qBAAqB;QACjC,OAAO,MAAM,qCAAqC;IAEpD,EAAE,OAAO,OAAY;QACnB,IAAI,MAAM,IAAI,KAAK,6BAA6B;YAC9C,QAAQ,IAAI,CAAC;QACf,OAAO;YACL,QAAQ,KAAK,CAAC,wBAAwB;QACxC;QACA,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 431, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/sidebar/UserSidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { signOutUser } from '@/src/components/auth/authService';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFileContract } from '@fortawesome/free-solid-svg-icons';\r\nimport {\r\n  FaTimes, FaPencilAlt, FaUser, FaCalendarAlt, FaEnvelope, FaBuilding,\r\n  FaCog, FaStore, FaMotorcycle, FaUserCog, FaBatteryFull, FaUsers, FaDollarSign\r\n} from 'react-icons/fa';\r\nimport { useUser } from '@/src/context/AuthContext';\r\nimport { IconType } from 'react-icons';\r\nimport { db } from '@/src/firebaseConfig';\r\nimport { collection, onSnapshot, query, where, doc, getDoc } from 'firebase/firestore';\r\n\r\ninterface UserSidebarProps {\r\n  user: any;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\ntype MenuItem =\r\n  | { divider: true }\r\n  | {\r\n      icon: IconType | typeof faFileContract;\r\n      label: string;\r\n      path?: string;\r\n      onClick?: () => void;\r\n    };\r\n\r\nconst UserSidebar: React.FC<UserSidebarProps> = ({ user, isOpen, onClose }) => {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const { role } = useUser();\r\n\r\n  const [agentStats, setAgentStats] = useState({ total: 0, pending: 0 });\r\n  const [agentDisabled, setAgentDisabled] = useState(false);\r\n\r\n  const normalizedRole = (role || '').toLowerCase();\r\n\r\n  // Realtime Earnings\r\n  useEffect(() => {\r\n    if (normalizedRole !== 'agent' || !user?.uid) return;\r\n\r\n    const q = query(collection(db, 'bookings'), where('agentId', '==', user.uid));\r\n    const unsub = onSnapshot(q, (snap) => {\r\n      let total = 0;\r\n      let pending = 0;\r\n\r\n      snap.forEach(doc => {\r\n        const data = doc.data();\r\n        const amount = data.agentCommission || 0;\r\n        total += amount;\r\n        if (!data.agentCommissionPaid) pending += amount;\r\n      });\r\n\r\n      setAgentStats({ total, pending });\r\n    });\r\n\r\n    return () => unsub();\r\n  }, [normalizedRole, user]);\r\n\r\n  // Check disabled agent\r\n  useEffect(() => {\r\n    if (normalizedRole !== 'agent' || !user?.uid) return;\r\n\r\n    const checkAgent = async () => {\r\n      const snap = await getDoc(doc(db, 'users', user.uid));\r\n      const userData = snap.data();\r\n      if (userData?.status === 'disabled') {\r\n        setAgentDisabled(true);\r\n      }\r\n    };\r\n\r\n    checkAgent();\r\n  }, [normalizedRole, user]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const commonItems: MenuItem[] = [\r\n    { icon: FaPencilAlt, label: 'Write a review', onClick: () => {} },\r\n    { divider: true },\r\n    { icon: FaUser, label: 'Profile', path: '/profile' },\r\n    { icon: FaCalendarAlt, label: 'Bookings', path: '/bookings' },\r\n    { icon: FaEnvelope, label: 'Messages', path: '/messages' },\r\n    { icon: FaBuilding, label: 'My business', path: '/my-business' },\r\n    { divider: true },\r\n  ];\r\n\r\n  const agentItems: MenuItem[] = [\r\n    { icon: FaUsers, label: 'Agent Dashboard', path: '/my-business/agent' },\r\n    { icon: FaDollarSign, label: 'Earnings', path: '/my-business/earnings' },\r\n    { icon: faFileContract, label: 'Request Payment', path: '/my-business/request-payment' },\r\n  ];\r\n\r\n  const footerItem: MenuItem = {\r\n    icon: FaCog,\r\n    label: 'Account Info',\r\n    path: '/account',\r\n  };\r\n\r\n  const getMenuItems = (): MenuItem[] => {\r\n    if (normalizedRole === 'agent') {\r\n      if (agentDisabled) return [...commonItems, footerItem];\r\n      return [...commonItems, ...agentItems, { divider: true }, footerItem];\r\n    }\r\n    return [...commonItems, footerItem];\r\n  };\r\n\r\n  const menuItems = getMenuItems();\r\n\r\n  return (\r\n    <div className={`fixed top-0 right-0 z-[100] w-80 max-w-full h-[100dvh] bg-white shadow-2xl flex flex-col transition-transform duration-300 ${isOpen ? 'translate-x-0' : 'translate-x-full'}`}>\r\n      {/* Header */}\r\n      <div className=\"p-4 border-b flex flex-col items-center relative\">\r\n        <button onClick={onClose} className=\"absolute top-4 right-4 text-xl\">\r\n          <FaTimes />\r\n        </button>\r\n\r\n        <img\r\n          src={user?.photoURL || \"/default-avatar.png\"}\r\n          alt=\"Avatar\"\r\n          className=\"w-16 h-16 rounded-full\"\r\n        />\r\n        <p className=\"mt-2 text-gray-600 text-sm\">Welcome</p>\r\n        <p className=\"font-semibold text-gray-800 mt-1 text-center\">{user?.displayName || \"User\"}</p>\r\n\r\n        {normalizedRole === 'agent' && !agentDisabled && (\r\n          <div className=\"mt-4 space-y-1 text-sm text-gray-600 text-center\">\r\n            <p>Total Earnings: <b>${agentStats.total.toFixed(2)}</b></p>\r\n            <p>Pending Payment: <b>${agentStats.pending.toFixed(2)}</b></p>\r\n          </div>\r\n        )}\r\n\r\n        {normalizedRole === 'agent' && agentDisabled && (\r\n          <p className=\"mt-4 text-red-500 text-sm\">Account Disabled</p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Menu */}\r\n      <nav className=\"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent\">\r\n        {menuItems.map((item, index) =>\r\n          'divider' in item ? (\r\n            <hr key={index} className=\"my-2 border-gray-200\" />\r\n          ) : (\r\n            <button\r\n              key={index}\r\n              onClick={() => {\r\n                if (item.path) router.push(item.path);\r\n                item.onClick?.();\r\n                onClose();\r\n              }}\r\n              className={`flex items-center space-x-3 w-full text-left rounded-lg px-3 py-2 transition ${\r\n                pathname === item.path\r\n                  ? 'bg-[#00d289] text-white'\r\n                  : 'text-gray-700 hover:text-black hover:bg-gray-100'\r\n              }`}\r\n            >\r\n              {'icon' in item && (\r\n                typeof item.icon === 'function' ? (\r\n                  <item.icon />\r\n                ) : (\r\n                  <FontAwesomeIcon icon={item.icon} className=\"w-4 h-4\" />\r\n                )\r\n              )}\r\n              <span>{item.label}</span>\r\n            </button>\r\n          )\r\n        )}\r\n      </nav>\r\n\r\n      <div className=\"p-4 border-t\">\r\n        <button\r\n          onClick={() => {\r\n            signOutUser();\r\n            onClose();\r\n          }}\r\n          className=\"w-full border border-gray-300 rounded-lg py-2 text-black hover:bg-[#00d289] transition\"\r\n        >\r\n          Sign out\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserSidebar;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 793, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/auth/handleEmailLoginAndStoreUser.tsx"],"sourcesContent":["// src/components/handleEmailLoginAndStoreUser.ts\r\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { doc, getDoc, setDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { auth, db } from \"@/src/firebaseConfig\"; \r\n\r\nexport const handleEmailLoginAndStoreUser = async (email: string, password: string) => {\r\n  const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n  const user = userCredential.user;\r\n\r\n  if (user) {\r\n    const userDocRef = doc(db, \"users\", user.uid);\r\n    const docSnap = await getDoc(userDocRef);\r\n\r\n    if (!docSnap.exists()) {\r\n      await setDoc(userDocRef, {\r\n        uid: user.uid,\r\n        email: user.email,\r\n        createdAt: serverTimestamp(),\r\n      });\r\n    }\r\n  }\r\n\r\n  return user;\r\n};\r\n\r\n"],"names":[],"mappings":"AAAA,iDAAiD;;;;AACjD;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEO,MAAM,+BAA+B,OAAO,OAAe;IAChE,MAAM,iBAAiB,MAAM,CAAA,GAAA,iOAAA,CAAA,6BAA0B,AAAD,EAAE,wIAAA,CAAA,OAAI,EAAE,OAAO;IACrE,MAAM,OAAO,eAAe,IAAI;IAEhC,IAAI,MAAM;QACR,MAAM,aAAa,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,wIAAA,CAAA,KAAE,EAAE,SAAS,KAAK,GAAG;QAC5C,MAAM,UAAU,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE;QAE7B,IAAI,CAAC,QAAQ,MAAM,IAAI;YACrB,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,YAAY;gBACvB,KAAK,KAAK,GAAG;gBACb,OAAO,KAAK,KAAK;gBACjB,WAAW,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD;YAC3B;QACF;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 831, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/auth/SignupPopup.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { X } from \"lucide-react\";\r\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { doc, setDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { auth, db } from \"@/src/firebaseConfig\"; // Nh·ªõ export db t·ª´ firebaseConfig.ts\r\n\r\ninterface SignupPopupProps {\r\n  onClose: () => void;\r\n  onSwitchToSignin: () => void;\r\n}\r\n\r\nexport default function SignupPopup({ onClose, onSwitchToSignin }: SignupPopupProps) {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleSignup = async () => {\r\n    try {\r\n      const userCredential = await createUserWithEmailAndPassword(\r\n        auth,\r\n        email.trim(),\r\n        password.trim()\r\n      );\r\n      const user = userCredential.user;\r\n\r\n      // L∆∞u th√¥ng tin v√†o Firestore\r\n      await setDoc(doc(db, \"users\", user.uid), {\r\n        uid: user.uid,\r\n        name: `${firstName} ${lastName}`.trim(),\r\n        email: user.email,\r\n        photoURL: user.photoURL || \"\",\r\n        role: \"Customer\",\r\n        createdAt: serverTimestamp(),\r\n      });\r\n\r\n      console.log(\"User created and saved to Firestore!\");\r\n      onClose(); // ƒê√≥ng popup sau khi t·∫°o th√†nh c√¥ng\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n      console.error(\"Signup error:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"font-sans p-3 fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 z-50\">\r\n      <div className=\"bg-white p-6 rounded-xl shadow-xl w-96 relative\">\r\n        {/* Close button */}\r\n        <button\r\n          className=\"absolute top-4 right-4 text-gray-600 hover:text-gray-900\"\r\n          onClick={onClose}\r\n        >\r\n          <X size={24} />\r\n        </button>\r\n\r\n        {/* Logo */}\r\n        <div className=\"flex justify-center mb-4\">\r\n          <img src=\"/assets/images/BipBip_logo1.jpg\" alt=\"Logo\" className=\"w-24 h-10\" />\r\n        </div>\r\n\r\n        {/* Title */}\r\n        <h2 className=\"text-2xl font-bold text-center mb-6\">\r\n          Join to unlock the best of <br />B√≠p B√≠p\r\n        </h2>\r\n\r\n        {/* Name fields */}\r\n        <div className=\"flex gap-2 mb-4\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"First Name\"\r\n            value={firstName}\r\n            onChange={(e) => setFirstName(e.target.value)}\r\n            className=\"w-1/2 border rounded-lg p-2 focus:ring focus:ring-blue-300 outline-none\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Last Name\"\r\n            value={lastName}\r\n            onChange={(e) => setLastName(e.target.value)}\r\n            className=\"w-1/2 border rounded-lg p-2 focus:ring focus:ring-blue-300 outline-none\"\r\n          />\r\n        </div>\r\n\r\n        {/* Email */}\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email address\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          className=\"w-full border rounded-lg p-2 mb-4 focus:ring focus:ring-blue-300 outline-none\"\r\n        />\r\n\r\n        {/* Password */}\r\n        <div className=\"relative mb-4\">\r\n          <input\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            placeholder=\"Create a password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"w-full border rounded-lg p-2 pr-10 focus:ring focus:ring-blue-300 outline-none\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"absolute inset-y-0 right-3 flex items-center text-gray-600\"\r\n            onClick={() => setShowPassword(!showPassword)}\r\n          >\r\n            {showPassword ? <FaEyeSlash /> : <FaEye />}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Error message */}\r\n        {error && <p className=\"text-red-500 text-sm mb-2\">{error}</p>}\r\n\r\n        {/* Join Button */}\r\n        <button\r\n          onClick={handleSignup}\r\n          className=\"flex items-center justify-center w-full border py-2 rounded-lg mt-2 mb-3 hover:bg-[#00d289] transition\"\r\n        >\r\n          Join\r\n        </button>\r\n\r\n        {/* Already a member */}\r\n        <div className=\"flex items-center my-4\">\r\n          <hr className=\"flex-1\" />\r\n          <span className=\"mx-2 text-gray-500 text-sm\">Already a member?</span>\r\n          <hr className=\"flex-1\" />\r\n        </div>\r\n\r\n        <p className=\"text-center text-sm \">\r\n          <a\r\n            href=\"#\"\r\n            className=\"font-bold underline text-[#00d289]\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              onSwitchToSignin();\r\n            }}\r\n          >\r\n            Sign in\r\n          </a>{\" \"}\r\n          using your B√≠p B√≠p account.\r\n        </p>\r\n\r\n        {/* Terms */}\r\n        <p className=\"text-xs text-gray-500 mt-4 text-center\">\r\n          By proceeding, you agree to our{\" \"}\r\n          <a href=\"#\" className=\"underline\">Terms of Use</a> and confirm you have read our{\" \"}\r\n          <a href=\"#\" className=\"underline\">Privacy and Cookie Statement</a>.\r\n        </p>\r\n        <p className=\"text-xs text-gray-500 text-center mt-1\">\r\n          This site is protected by reCAPTCHA and the Google{\" \"}\r\n          <a href=\"#\" className=\"underline\">Privacy Policy</a> and{\" \"}\r\n          <a href=\"#\" className=\"underline\">Terms of Service</a> apply.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1174, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/auth/SigninPopup.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { X } from \"lucide-react\";\r\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\r\nimport { handleEmailLoginAndStoreUser } from \"@/src/components/auth/handleEmailLoginAndStoreUser\";\r\nimport SignupPopup from \"@/src/components/auth/SignupPopup\";\r\n\r\nexport default function SigninPopup({ onClose }: { onClose: () => void }) {\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [showSignup, setShowSignup] = useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    if (!email || !password) {\r\n      setErrorMessage(\"Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß email v√† m·∫≠t kh·∫©u.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setErrorMessage(\"\");\r\n      await handleEmailLoginAndStoreUser(email, password);\r\n      onClose(); // ƒë√≥ng popup sau khi ƒëƒÉng nh·∫≠p th√†nh c√¥ng\r\n    } catch (error: any) {\r\n      setErrorMessage(error.message || \"ƒêƒÉng nh·∫≠p th·∫•t b·∫°i.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"font-sans p-3 fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 z-50\">\r\n      <div className=\"bg-white p-6 rounded-xl shadow-xl w-96 relative\">\r\n        <button\r\n          className=\"absolute top-4 right-4 text-gray-600 hover:text-gray-900\"\r\n          onClick={onClose}\r\n        >\r\n          <X size={24} />\r\n        </button>\r\n\r\n        <div className=\"flex justify-center mb-4\">\r\n          <img\r\n            src=\"/assets/images/BipBip_logo1.png\"\r\n            alt=\"BipBip Logo\"\r\n            className=\"w-32 h-10\"\r\n          />\r\n        </div>\r\n\r\n        <h2 className=\"text-2xl text-gray-600 font-bold text-center mb-6\">Welcome back.</h2>\r\n\r\n        <label className=\"block text-gray-600 font-semibold text-sm mb-1\">Email address</label>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          className=\"w-full border rounded-lg p-2 mb-4 focus:ring focus:ring-blue-300 outline-none\"\r\n        />\r\n\r\n        <label className=\"block text-gray-600 font-semibold text-sm mb-1\">Password</label>\r\n        <div className=\"relative\">\r\n          <input\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"w-full border rounded-lg p-2 pr-10 focus:ring focus:ring-blue-300 outline-none\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"absolute inset-y-0 right-3 flex items-center text-gray-600\"\r\n            onClick={() => setShowPassword(!showPassword)}\r\n          >\r\n            {showPassword ? <FaEyeSlash /> : <FaEye />}\r\n          </button>\r\n        </div>\r\n\r\n        {errorMessage && (\r\n          <p className=\"text-red-500 text-sm text-center mt-2\">{errorMessage}</p>\r\n        )}\r\n\r\n        <a href=\"#\" className=\"text-[#00d289] text-sm mt-2 inline-block\">\r\n          Forgot password?\r\n        </a>\r\n\r\n        <button\r\n          onClick={handleLogin}\r\n          className=\"flex text-gray-600 items-center justify-center w-full border py-2 rounded-lg mt-2 mb-3 hover:bg-[#00d289] transition\"\r\n        >\r\n          Sign in\r\n        </button>\r\n\r\n        <div className=\"flex items-center my-4\">\r\n          <hr className=\"flex-1\" />\r\n          <span className=\"mx-2 text-gray-500 text-sm\">Not a member?</span>\r\n          <hr className=\"flex-1\" />\r\n        </div>\r\n\r\n        <p className=\"text-center text-gray-600 text-sm\">\r\n          <a\r\n            href=\"#\"\r\n            className=\"font-bold underline text-[#00d289]\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setShowSignup(true);\r\n            }}\r\n          >\r\n            Join\r\n          </a>{\" \"}\r\n          to unlock the best of <br />B√≠p B√≠p.\r\n        </p>\r\n\r\n        <p className=\"text-xs text-gray-500 mt-4 text-center\">\r\n          By proceeding, you agree to our{\" \"}\r\n          <a href=\"#\" className=\"underline\">Terms of Use</a> and confirm you have read our{\" \"}\r\n          <a href=\"#\" className=\"underline\">Privacy and Cookie Statement</a>.\r\n        </p>\r\n        <p className=\"text-xs text-gray-500 text-center mt-1\">\r\n          This site is protected by reCAPTCHA and the Google{\" \"}\r\n          <a href=\"#\" className=\"underline\">Privacy Policy</a> and{\" \"}\r\n          <a href=\"#\" className=\"underline\">Terms of Service</a> apply.\r\n        </p>\r\n      </div>\r\n\r\n     {/* ‚úÖ Hi·ªÉn th·ªã SignupPopup n·∫øu ƒë∆∞·ª£c b·∫≠t */}\r\n      {showSignup && (\r\n          <SignupPopup\r\n            onClose={() => setShowSignup(false)}\r\n            onSwitchToSignin={() => setShowSignup(false)} // ‚úÖ B·ªï sung prop b·∫Øt bu·ªôc\r\n          />\r\n        )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAEe,SAAS,YAAY,EAAE,OAAO,EAA2B;;IACtE,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,cAAc;QAClB,IAAI,CAAC,SAAS,CAAC,UAAU;YACvB,gBAAgB;YAChB;QACF;QAEA,IAAI;YACF,gBAAgB;YAChB,MAAM,CAAA,GAAA,6JAAA,CAAA,+BAA4B,AAAD,EAAE,OAAO;YAC1C,WAAW,0CAA0C;QACvD,EAAE,OAAO,OAAY;YACnB,gBAAgB,MAAM,OAAO,IAAI;QACnC;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAU;wBACV,SAAS;kCAET,cAAA,6LAAC,+LAAA,CAAA,IAAC;4BAAC,MAAM;;;;;;;;;;;kCAGX,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;;;;;;kCAId,6LAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAElE,6LAAC;wBAAM,WAAU;kCAAiD;;;;;;kCAClE,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,WAAU;;;;;;kCAGZ,6LAAC;wBAAM,WAAU;kCAAiD;;;;;;kCAClE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAM,eAAe,SAAS;gCAC9B,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,WAAU;;;;;;0CAEZ,6LAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,gBAAgB,CAAC;0CAE/B,6BAAe,6LAAC,iJAAA,CAAA,aAAU;;;;yDAAM,6LAAC,iJAAA,CAAA,QAAK;;;;;;;;;;;;;;;;oBAI1C,8BACC,6LAAC;wBAAE,WAAU;kCAAyC;;;;;;kCAGxD,6LAAC;wBAAE,MAAK;wBAAI,WAAU;kCAA2C;;;;;;kCAIjE,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;kCAID,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;;;;;0CACd,6LAAC;gCAAK,WAAU;0CAA6B;;;;;;0CAC7C,6LAAC;gCAAG,WAAU;;;;;;;;;;;;kCAGhB,6LAAC;wBAAE,WAAU;;0CACX,6LAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS,CAAC;oCACR,EAAE,cAAc;oCAChB,cAAc;gCAChB;0CACD;;;;;;4BAEI;4BAAI;0CACa,6LAAC;;;;;4BAAK;;;;;;;kCAG9B,6LAAC;wBAAE,WAAU;;4BAAyC;4BACpB;0CAChC,6LAAC;gCAAE,MAAK;gCAAI,WAAU;0CAAY;;;;;;4BAAgB;4BAA+B;0CACjF,6LAAC;gCAAE,MAAK;gCAAI,WAAU;0CAAY;;;;;;4BAAgC;;;;;;;kCAEpE,6LAAC;wBAAE,WAAU;;4BAAyC;4BACD;0CACnD,6LAAC;gCAAE,MAAK;gCAAI,WAAU;0CAAY;;;;;;4BAAkB;4BAAK;0CACzD,6LAAC;gCAAE,MAAK;gCAAI,WAAU;0CAAY;;;;;;4BAAoB;;;;;;;;;;;;;YAKzD,4BACG,6LAAC,4IAAA,CAAA,UAAW;gBACV,SAAS,IAAM,cAAc;gBAC7B,kBAAkB,IAAM,cAAc;;;;;;;;;;;;AAKlD;GA7HwB;KAAA","debugId":null}},
    {"offset": {"line": 1505, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/auth/LoginPopup.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { FaGoogle, FaEnvelope } from \"react-icons/fa\";\r\nimport { X } from \"lucide-react\";\r\nimport SigninPopup from \"@/src/components/auth/SigninPopup\";\r\nimport { signInWithGoogle } from \"@/src/components/auth/authService\";\r\n\r\n// T·∫°o interface n√†y ƒë·ªÉ ƒë√≥ng popup khi c·∫ßn\r\ninterface LoginPopupProps {\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function LoginPopup({ onClose }: LoginPopupProps) {\r\n\r\n  // Khai b√°o tr·∫°ng th√°i c·ªßa ƒëƒÉng nh·∫≠p Signin l√† hiden\r\n  const [showSignin, setShowSignin] = useState(false);\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    try {\r\n      const user = await signInWithGoogle();\r\n      console.log(\"User signed in:\", user);\r\n\r\n      // ‚úÖ ƒê√≥ng popup sau khi ƒëƒÉng nh·∫≠p th√†nh c√¥ng\r\n      onClose();\r\n    } catch (error) {\r\n      console.error(\"Google Sign-In Error:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-3 fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center\">\r\n      <div className=\"bg-white p-6 rounded-2xl shadow-xl w-96 relative\">\r\n        {/* Close button */}\r\n        <button\r\n          className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-700\"\r\n          onClick={onClose}\r\n        >\r\n          <X size={24} />\r\n        </button>\r\n\r\n        {/* Logo */}\r\n        <div className=\"flex justify-center mb-4\">\r\n          <img\r\n            src=\"/assets/images/BipBip_logo1.png\"\r\n            alt=\"BipBip Logo\"\r\n            className=\"w-32 h-10\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-xl text-gray-600 font-semibold mb-4\">\r\n            Sign in to unlock the best of <br />B√≠p B√≠p.\r\n          </h2>\r\n\r\n          {/* Continue with Google */}\r\n          <button \r\n            className=\"flex text-gray-600 items-center justify-center w-full border py-2 rounded-lg mb-3 hover:bg-[#00d289] transition\"\r\n            onClick={handleGoogleSignIn}\r\n          >\r\n            <FaGoogle className=\"mr-2\" /> Continue with Google\r\n          </button>\r\n\r\n          {/* Continue with Email th√¨ (M·ªü SigninPopup) */}\r\n          <button\r\n            className=\"flex text-gray-600 items-center justify-center w-full border py-2 rounded-lg hover:bg-[#00d289] transition\"\r\n            onClick={() => setShowSignin(true)}\r\n          >\r\n            <FaEnvelope className=\"mr-2\" /> Continue with Email\r\n          </button>\r\n\r\n          <p className=\"text-xs text-gray-500 mt-4\">\r\n            By proceeding, you agree to our{\" \"}\r\n            <a href=\"#\" className=\"underline\">\r\n              Terms of Use\r\n            </a>{\" \"}\r\n            and confirm you have read our{\" \"}\r\n            <a href=\"#\" className=\"underline\">\r\n              Privacy and Cookie Statement\r\n            </a>.\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-2\">\r\n            This site is protected by reCAPTCHA and the Google{\" \"}\r\n            <a href=\"#\" className=\"underline\">\r\n              Privacy Policy\r\n            </a>{\" \"}\r\n            and\r\n            <a href=\"#\" className=\"underline\"> Terms of Service</a> apply.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Popup Signin xu·∫•t hi·ªán khi b·∫•m \"Continue with Email\" */}\r\n      {showSignin && <SigninPopup onClose={() => setShowSignin(false)} />}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAOe,SAAS,WAAW,EAAE,OAAO,EAAmB;;IAE7D,oDAAoD;IACpD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,qBAAqB;QACzB,IAAI;YACF,MAAM,OAAO,MAAM,CAAA,GAAA,4IAAA,CAAA,mBAAgB,AAAD;YAClC,QAAQ,GAAG,CAAC,mBAAmB;YAE/B,4CAA4C;YAC5C;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBACC,WAAU;wBACV,SAAS;kCAET,cAAA,6LAAC,+LAAA,CAAA,IAAC;4BAAC,MAAM;;;;;;;;;;;kCAIX,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;;;;;;kCAId,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;oCAA2C;kDACzB,6LAAC;;;;;oCAAK;;;;;;;0CAItC,6LAAC;gCACC,WAAU;gCACV,SAAS;;kDAET,6LAAC,iJAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;oCAAS;;;;;;;0CAI/B,6LAAC;gCACC,WAAU;gCACV,SAAS,IAAM,cAAc;;kDAE7B,6LAAC,iJAAA,CAAA,aAAU;wCAAC,WAAU;;;;;;oCAAS;;;;;;;0CAGjC,6LAAC;gCAAE,WAAU;;oCAA6B;oCACR;kDAChC,6LAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAY;;;;;;oCAE7B;oCAAI;oCACqB;kDAC9B,6LAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAY;;;;;;oCAE9B;;;;;;;0CAEN,6LAAC;gCAAE,WAAU;;oCAA6B;oCACW;kDACnD,6LAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAY;;;;;;oCAE7B;oCAAI;kDAET,6LAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAY;;;;;;oCAAqB;;;;;;;;;;;;;;;;;;;YAM5D,4BAAc,6LAAC,4IAAA,CAAA,UAAW;gBAAC,SAAS,IAAM,cAAc;;;;;;;;;;;;AAG/D;GAnFwB;KAAA","debugId":null}},
    {"offset": {"line": 1731, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/landingpage/Header.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { FaBars, FaRegUserCircle, FaGlobe } from \"react-icons/fa\";\r\nimport Image from \"next/image\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Preferences from \"./Preferences\";\r\nimport SidebarMenu from \"../sidebar/SidebarMenu\";\r\nimport UserSidebar from \"../sidebar/UserSidebar\";\r\nimport LoginPopup from \"@/src/components/auth/LoginPopup\";\r\nimport { useUser } from \"@/src/context/AuthContext\";\r\n\r\n// Import UserSidebar t·ª´ file ri√™ng\r\nimport Link from \"next/link\";\r\n// Qu·∫£n l√Ω ƒë√≥ng m·ªü sidebar cho ƒë·ªìng b·ªô\r\n\r\n\r\nconst Header = () => {\r\n  const [language, setLanguage] = useState(\"EN\");\r\n  const [currency, setCurrency] = useState(\"USD\");\r\n\r\n  // Qu·∫£n l√Ω m·ªü/ƒë√≥ng popup Preferences\r\n  const [isReferencePopupOpen, setIsReferencePopupOpen] = useState(false);\r\n  // Qu·∫£n l√Ω m·ªü/ƒë√≥ng popup Login\r\n  const [isLoginPopupOpen, setIsLoginPopupOpen] = useState(false);\r\n  // Qu·∫£n l√Ω m·ªü/ƒë√≥ng SidebarMenu (hamburger)\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n  // Qu·∫£n l√Ω m·ªü/ƒë√≥ng Sidebar ƒë·ªï xu·ªëng cho user (khi ƒë√£ ƒëƒÉng nh·∫≠p)\r\n  const [isUserSidebarOpen, setIsUserSidebarOpen] = useState(false);\r\n\r\n  const { user } = useUser();  // ‚úÖ\r\n  const router = useRouter();\r\n\r\n  // ƒê·ªïi ti·ªÅn t·ªá / ng√¥n ng·ªØ\r\n  const togglePopup = () => setIsReferencePopupOpen(!isReferencePopupOpen);\r\n  // ƒê√≥ng / m·ªü Login popup\r\n  const toggleLoginPopup = () => setIsLoginPopupOpen(!isLoginPopupOpen);\r\n  // ƒê√≥ng / m·ªü SidebarMenu (hamburger) v√† ƒë√≥ng UserSidebar n·∫øu c·∫ßn\r\n  const toggleSidebar = () => {\r\n    if (!isSidebarOpen) {\r\n      setIsUserSidebarOpen(false); // ƒê√≥ng UserSidebar n·∫øu SidebarMenu ƒëang m·ªü\r\n    }\r\n    setIsSidebarOpen(!isSidebarOpen);\r\n  };\r\n  // ƒê√≥ng / m·ªü UserSidebar v√† ƒë√≥ng SidebarMenu n·∫øu c·∫ßn\r\nconst toggleUserSidebar = () => {\r\n  if (!isUserSidebarOpen) {\r\n    setIsSidebarOpen(false); // ƒê√≥ng SidebarMenu n·∫øu UserSidebar ƒëang m·ªü\r\n  }\r\n  setIsUserSidebarOpen(!isUserSidebarOpen);\r\n};\r\n\r\n  return (\r\n    <header className=\"sticky flex items-center justify-between absolute top-0 left-0 w-full bg-white z-50 h-16\">\r\n      {/* N√∫t Menu Icon (hamburger) - ch·ªâ hi·ªán tr√™n mobile */}\r\n      <button className=\"text-2xl text-gray-800 md:hidden lg:hidden px-6 py-2\" onClick={toggleSidebar}>\r\n        <FaBars />\r\n      </button>\r\n\r\n      {/* Logo */}\r\n      <div className=\"flex items-center px-8\">\r\n          <Link href=\"/\">\r\n            <Image\r\n              src=\"/assets/images/BipBip_logo1.png\"\r\n              alt=\"eBikeRental Logo\"\r\n              width={160} // ‚úÖ ƒë·ªÉ ƒë√∫ng k√≠ch th∆∞·ªõc th·ª±c t·∫ø\r\n              height={60} // ‚úÖ t√πy theo t·ª∑ l·ªá logo\r\n              priority // ‚úÖ logo th√¨ n√™n preload\r\n              className=\"h-auto w-auto max-h-12\" // ‚úÖ t·ªëi ∆∞u responsive\r\n            />\r\n          </Link>\r\n      </div>\r\n\r\n\r\n      {/* User Icon (mobile) */}\r\n      <button\r\n        className=\"text-2xl md:hidden text-gray-800 lg:hidden px-6 py-2\"\r\n        onClick={user ? toggleUserSidebar : toggleLoginPopup}\r\n      >\r\n        {user ? (\r\n          <img\r\n            src={user.photoURL || \"/default-avatar.png\"}\r\n            alt=\"avatar\"\r\n            className=\"w-8 h-8 rounded-full\"\r\n          />\r\n        ) : (\r\n          <FaRegUserCircle />\r\n        )}\r\n      </button>\r\n\r\n      {/* Popup ƒëƒÉng nh·∫≠p (n·∫øu c·∫ßn) */}\r\n      {isLoginPopupOpen && <LoginPopup onClose={toggleLoginPopup} />}\r\n\r\n      {/* Sidebar Menu (hamburger) */}\r\n      <SidebarMenu isOpen={isSidebarOpen} onClose={toggleSidebar} />\r\n\r\n      {/* Desktop Only */}\r\n      <div className=\"hidden sm:block px-8\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          {/* N√∫t ƒë·ªïi ti·ªÅn t·ªá / ng√¥n ng·ªØ */}\r\n          <button\r\n            onClick={togglePopup}\r\n            className=\"flex items-center space-x-2 text-sm font-semibold\"\r\n          >\r\n            <FaGlobe className=\"text-lg\" />\r\n            <span className=\"border-l border-gray-400 h-4 mx-2\"></span>\r\n            <span>{currency}</span>\r\n            <span className=\"border-l border-gray-400 h-4 mx-2\"></span>\r\n          </button>\r\n\r\n          {/* N·∫øu ƒë√£ ƒëƒÉng nh·∫≠p => hi·ªÉn th·ªã avatar, n·∫øu ch∆∞a => n√∫t \"ƒêƒÉng nh·∫≠p\" */}\r\n          {user ? (\r\n            <img\r\n              src={user.photoURL || \"/default-avatar.png\"}\r\n              alt=\"avatar\"\r\n              className=\"w-8 h-8 rounded-full cursor-pointer\"\r\n              onClick={toggleUserSidebar}\r\n            />\r\n          ) : (\r\n            <button\r\n              onClick={user ? toggleUserSidebar : toggleLoginPopup}\r\n              className=\"px-4 py-1 bg-transparent border border-[#00d289] text-[#00d289] text-md font-semibold rounded-sm\"\r\n            >\r\n              Sign in\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Popup ƒë·ªïi ti·ªÅn t·ªá / ng√¥n ng·ªØ */}\r\n        {isReferencePopupOpen && (\r\n          <Preferences onClose={() => setIsReferencePopupOpen(false)} />\r\n        )}\r\n      </div>\r\n\r\n      {/* Sidebar ƒë·ªï xu·ªëng cho user (ch·ªâ hi·ªán khi ƒë√£ ƒëƒÉng nh·∫≠p) */}\r\n      {user && (\r\n        <UserSidebar\r\n          user={user}\r\n          isOpen={isUserSidebarOpen}\r\n          onClose={() => setIsUserSidebarOpen(false)}\r\n        />\r\n      )}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1986, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/landingpage/Footer.tsx"],"sourcesContent":["export default function Footer() {\r\n  return (\r\n    <footer className=\"bg-[#00d289] text-white text-sm py-4 text-center w-full\">\r\n      <div>¬© 2025 Workman. All rights reserved.</div>\r\n      <div className=\"mt-1 space-x-3\">\r\n        <a href=\"#\" className=\"underline\">About Us</a>\r\n        <a href=\"#\" className=\"underline\">Contact</a>\r\n        <a href=\"#\" className=\"underline\">Policy</a>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAe,SAAS;IACtB,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC;0BAAI;;;;;;0BACL,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,MAAK;wBAAI,WAAU;kCAAY;;;;;;kCAClC,6LAAC;wBAAE,MAAK;wBAAI,WAAU;kCAAY;;;;;;kCAClC,6LAAC;wBAAE,MAAK;wBAAI,WAAU;kCAAY;;;;;;;;;;;;;;;;;;AAI1C;KAXwB","debugId":null}},
    {"offset": {"line": 2057, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/card.tsx"],"sourcesContent":["// Card Component\r\nimport { ReactNode } from 'react';\r\n\r\ninterface CardProps {\r\n  className?: string;\r\n  children: ReactNode;\r\n}\r\n\r\nexport const Card = ({ className = '', children }: CardProps) => {\r\n  return <div className={`bg-white rounded-xl shadow p-4 ${className}`}>{children}</div>;\r\n};\r\n\r\nexport const CardContent = ({ className = '', children }: CardProps) => {\r\n  return <div className={className}>{children}</div>;\r\n};\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;AAQV,MAAM,OAAO,CAAC,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAa;IAC1D,qBAAO,6LAAC;QAAI,WAAW,CAAC,+BAA+B,EAAE,WAAW;kBAAG;;;;;;AACzE;KAFa;AAIN,MAAM,cAAc,CAAC,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAa;IACjE,qBAAO,6LAAC;QAAI,WAAW;kBAAY;;;;;;AACrC;MAFa","debugId":null}},
    {"offset": {"line": 2098, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/button.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { ReactNode } from 'react';\r\n\r\ntype ButtonVariant =\r\n  | 'default'\r\n  | 'ghost'\r\n  | 'outline'\r\n  | 'secondary'\r\n  | 'danger'\r\n  | 'greenOutline'\r\n  | 'destructive';\r\n\r\ntype ButtonSize = 'sm' | 'md' | 'lg';\r\n\r\ninterface ButtonProps {\r\n  className?: string;\r\n  children: ReactNode;\r\n  onClick?: () => void;\r\n  type?: 'button' | 'submit' | 'reset';\r\n  variant?: ButtonVariant;\r\n  size?: ButtonSize;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport const Button = ({\r\n  className = '',\r\n  children,\r\n  onClick,\r\n  type = 'button',\r\n  variant = 'default',\r\n  size = 'md',\r\n  disabled = false,\r\n}: ButtonProps) => {\r\n\r\n  const baseClass = 'inline-flex items-center justify-center font-semibold rounded-md transition-all';\r\n\r\n  const sizeClass: Record<ButtonSize, string> = {\r\n    sm: 'px-3 py-1 text-xs',\r\n    md: 'px-4 py-2 text-sm',\r\n    lg: 'px-6 py-3 text-base',\r\n  };\r\n\r\n  const variantClass: Record<ButtonVariant, string> = {\r\n    default: 'bg-[#00d289] text-white border border-[#00d289] hover:bg-[#00b67a]',\r\n    ghost: 'bg-transparent text-[#00d289] border border-transparent hover:bg-[#e6fff5]',\r\n    outline: 'bg-white text-[#00d289] border border-[#00d289] hover:bg-[#f0fdf8]',\r\n    secondary: 'bg-gray-100 text-gray-800 border border-gray-300 hover:bg-gray-200',\r\n    danger: 'bg-red-500 text-white border border-red-500 hover:bg-red-600',\r\n    greenOutline: 'bg-transparent text-[#00d289] border border-[#00d289] hover:bg-[#00d289]/10',\r\n    destructive: 'bg-white text-red-600 border border-red-500 hover:bg-red-50',\r\n  };\r\n\r\n  const disabledClass = disabled ? 'opacity-50 cursor-not-allowed pointer-events-none' : '';\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      disabled={disabled}\r\n      onClick={onClick}\r\n      className={[\r\n        baseClass,\r\n        sizeClass[size],\r\n        variantClass[variant],\r\n        disabledClass,\r\n        className,\r\n      ].join(' ')}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAyBO,MAAM,SAAS,CAAC,EACrB,YAAY,EAAE,EACd,QAAQ,EACR,OAAO,EACP,OAAO,QAAQ,EACf,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,WAAW,KAAK,EACJ;IAEZ,MAAM,YAAY;IAElB,MAAM,YAAwC;QAC5C,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,eAA8C;QAClD,SAAS;QACT,OAAO;QACP,SAAS;QACT,WAAW;QACX,QAAQ;QACR,cAAc;QACd,aAAa;IACf;IAEA,MAAM,gBAAgB,WAAW,sDAAsD;IAEvF,qBACE,6LAAC;QACC,MAAM;QACN,UAAU;QACV,SAAS;QACT,WAAW;YACT;YACA,SAAS,CAAC,KAAK;YACf,YAAY,CAAC,QAAQ;YACrB;YACA;SACD,CAAC,IAAI,CAAC;kBAEN;;;;;;AAGP;KA9Ca","debugId":null}},
    {"offset": {"line": 2151, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/input.tsx"],"sourcesContent":["import { ReactNode, InputHTMLAttributes } from 'react';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  className?: string;\r\n  icon?: ReactNode;\r\n}\r\n\r\nexport const Input = ({ className = '', icon, ...props }: InputProps) => {\r\n  return (\r\n    <div className={`flex items-center border border-[#00d289] rounded-sm p-2 ${className}`}>\r\n      {icon && <span className=\"mr-2\">{icon}</span>}\r\n      <input\r\n        className=\"flex-1 outline-none bg-transparent\"\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAOO,MAAM,QAAQ,CAAC,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,GAAG,OAAmB;IAClE,qBACE,6LAAC;QAAI,WAAW,CAAC,yDAAyD,EAAE,WAAW;;YACpF,sBAAQ,6LAAC;gBAAK,WAAU;0BAAQ;;;;;;0BACjC,6LAAC;gBACC,WAAU;gBACT,GAAG,KAAK;;;;;;;;;;;;AAIjB;KAVa","debugId":null}},
    {"offset": {"line": 2195, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/lib/utils.ts"],"sourcesContent":["// src/lib/utils.ts\r\nexport function cn(...args: any[]) {\r\n    return args.filter(Boolean).join(\" \");\r\n  }\r\n  "],"names":[],"mappings":"AAAA,mBAAmB;;;;AACZ,SAAS,GAAG,GAAG,IAAW;IAC7B,OAAO,KAAK,MAAM,CAAC,SAAS,IAAI,CAAC;AACnC","debugId":null}},
    {"offset": {"line": 2211, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/dialog.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from \"react\";\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\r\nimport { X } from \"lucide-react\";\r\nimport { cn } from \"@/src/lib/utils\";\r\n\r\nconst Dialog = DialogPrimitive.Root;\r\nconst DialogTrigger = DialogPrimitive.Trigger;\r\nconst DialogPortal = DialogPrimitive.Portal;\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-all\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed z-50 left-1/2 top-1/2 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-xl bg-white p-6 shadow-lg transition-all\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 text-gray-500 hover:text-gray-700\">\r\n        <X className=\"h-5 w-5\" />\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n));\r\nDialogContent.displayName = DialogPrimitive.Content.displayName;\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"mb-4 space-y-2 text-center\", className)} {...props} />\r\n);\r\nDialogHeader.displayName = \"DialogHeader\";\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n));\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\r\n\r\n// ‚úÖ B·ªï sung th√™m DialogDescription\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-gray-500\", className)}\r\n    {...props}\r\n  />\r\n));\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div className={cn(\"flex justify-end gap-2 pt-4\", className)} {...props} />\r\n);\r\nDialogFooter.displayName = \"DialogFooter\";\r\n\r\nexport {\r\n  Dialog,\r\n  DialogTrigger,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogDescription, // ‚úÖ Export ra lu√¥n\r\n  DialogFooter,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AACnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAC7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kIACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;kCAC/B,cAAA,6LAAC,+LAAA,CAAA,IAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKrB,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAAa,GAAG,KAAK;;;;;;MAJlE;AAMN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,mCAAmC;AACnC,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW;AAEvE,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAAa,GAAG,KAAK;;;;;;MAJnE;AAMN,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2351, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nexport interface LabelProps extends React.LabelHTMLAttributes<HTMLLabelElement> {}\r\n\r\nconst Label = React.forwardRef<HTMLLabelElement, LabelProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <label\r\n        ref={ref}\r\n        className={`block text-sm font-medium text-gray-700 mb-1 ${className ?? \"\"}`}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nLabel.displayName = \"Label\";\r\n\r\nexport { Label };\r\n"],"names":[],"mappings":";;;;AAAA;;;AAIA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,6CAA6C,EAAE,aAAa,IAAI;QAC3E,GAAG,KAAK;;;;;;AAGf;;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2384, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/return/ExtendRentalModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/src/components/ui/dialog';\r\nimport { Label } from '@/src/components/ui/label';\r\nimport { Input } from '@/src/components/ui/input';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { Timestamp } from 'firebase/firestore';\r\nimport { differenceInDays, format } from 'date-fns';\r\n\r\ninterface ExtendRentalModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onConfirm: (newEndTime: Timestamp) => void;\r\n  rentalStartDate: Timestamp | string;\r\n  oldRentalEndDate: Timestamp | string;\r\n  pricePerDay: number;\r\n  deposit: number; // ‚úÖ Th√™m props n√†y\r\n}\r\n\r\nexport default function ExtendRentalModal({\r\n  open,\r\n  onClose,\r\n  onConfirm,\r\n  rentalStartDate,\r\n  oldRentalEndDate,\r\n  pricePerDay,\r\n  deposit,\r\n}: ExtendRentalModalProps) {\r\n  const [newTime, setNewTime] = useState('');\r\n\r\n  const rentalStart = typeof rentalStartDate === 'string'\r\n    ? new Date(rentalStartDate)\r\n    : rentalStartDate.toDate();\r\n\r\n  const oldEnd = typeof oldRentalEndDate === 'string'\r\n    ? new Date(oldRentalEndDate)\r\n    : oldRentalEndDate.toDate();\r\n\r\n  const newEnd = useMemo(() => (newTime ? new Date(newTime) : null), [newTime]);\r\n\r\n  const oldDays = differenceInDays(oldEnd, rentalStart);\r\n  const newDays = newEnd ? differenceInDays(newEnd, rentalStart) : oldDays;\r\n  const rentalDays = newDays > oldDays ? newDays : oldDays;\r\n  const totalAmount = rentalDays * pricePerDay;\r\n  const remainingBalance = totalAmount - (deposit || 0);\r\n\r\n  const handleSubmit = () => {\r\n    if (!newEnd || isNaN(newEnd.getTime())) return;\r\n    onConfirm(Timestamp.fromDate(newEnd));\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-xl font-semibold\">Extend Rental Time</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-6\">\r\n          <div>\r\n            <p className=\"text-sm text-gray-600 mb-2\">\r\n              <strong>Current End Time:</strong> {format(oldEnd, 'dd/MM/yyyy HH:mm')}\r\n            </p>\r\n            <Label htmlFor=\"newEndTime\">New End Time</Label>\r\n            <Input\r\n              id=\"newEndTime\"\r\n              type=\"datetime-local\"\r\n              value={newTime}\r\n              onChange={(e) => setNewTime(e.target.value)}\r\n              className=\"mt-2 focus:ring-2 focus:ring-[#00d289]\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"text-sm text-gray-700 space-y-1\">\r\n            <p><strong>Price Per Day:</strong> {pricePerDay.toLocaleString()}‚Ç´</p>\r\n            <p><strong>Original Duration:</strong> {oldDays} day{oldDays > 1 ? 's' : ''}</p>\r\n            <p><strong>New Duration:</strong> {newDays} day{newDays > 1 ? 's' : ''}</p>\r\n            <p><strong>Total Amount:</strong> {totalAmount.toLocaleString()}‚Ç´</p>\r\n            <p><strong>Deposit:</strong> {deposit.toLocaleString()}‚Ç´</p>\r\n            <p><strong>Remaining After Extension:</strong>{' '}\r\n              {newDays > oldDays ? `${remainingBalance.toLocaleString()}‚Ç´` : '‚Äî'}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-3 pt-2\">\r\n            <Button variant=\"outline\" onClick={onClose}>Cancel</Button>\r\n            <Button\r\n              className=\"bg-[#00d289] hover:bg-[#00b67a] text-white\"\r\n              onClick={handleSubmit}\r\n              disabled={!newEnd || newDays <= oldDays}\r\n            >\r\n              Confirm\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2672, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\r\nimport { cn } from \"@/src/lib/utils\";\r\n\r\nconst ScrollArea = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n  <ScrollAreaPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative overflow-hidden\", className)}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-md\">\r\n      {children}\r\n    </ScrollAreaPrimitive.Viewport>\r\n    <ScrollAreaPrimitive.Scrollbar\r\n      orientation=\"vertical\"\r\n      className=\"flex touch-none select-none p-0.5 bg-gray-100 transition-colors hover:bg-gray-200\"\r\n    >\r\n      <ScrollAreaPrimitive.Thumb className=\"relative flex-1 rounded-full bg-gray-400\" />\r\n    </ScrollAreaPrimitive.Scrollbar>\r\n  </ScrollAreaPrimitive.Root>\r\n));\r\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;\r\n\r\nexport { ScrollArea };\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC,6KAAA,CAAA,YAA6B;gBAC5B,aAAY;gBACZ,WAAU;0BAEV,cAAA,6LAAC,6KAAA,CAAA,QAAyB;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI3C,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2733, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/hooks/useCompanyAndStation.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useUser } from \"@/src/context/AuthContext\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { collection, getDocs, query, where, doc, getDoc } from \"firebase/firestore\";\r\nimport { db } from \"@/src/firebaseConfig\";\r\n\r\ninterface CompanyAndStation {\r\n  companyId: string | null;\r\n  companyName: string;\r\n  stationId: string | null;\r\n  stationName: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport function useCompanyAndStation(): CompanyAndStation {\r\n  const { user, role, companyId: companyIdFromAuth } = useUser();\r\n  const searchParams = useSearchParams();\r\n\r\n  const companyIdFromURL = searchParams?.get(\"companyId\") ?? null;\r\n  const companyNameFromURL = searchParams?.get(\"companyName\") ?? null;\r\n\r\n  const stationIdFromURL = searchParams?.get(\"stationId\") ?? null;\r\n  const stationNameFromURL = searchParams?.get(\"stationName\") ?? null;\r\n\r\n  const [companyId, setCompanyId] = useState<string | null>(null);\r\n  const [companyName, setCompanyName] = useState<string>(\"\");\r\n  const [stationId, setStationId] = useState<string | null>(null);\r\n  const [stationName, setStationName] = useState<string>(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const detect = async () => {\r\n      setLoading(true);\r\n\r\n      // --- ∆Øu ti√™n URL ---\r\n      if (companyIdFromURL) setCompanyId(companyIdFromURL);\r\n      if (companyNameFromURL) setCompanyName(companyNameFromURL);\r\n      if (stationIdFromURL) setStationId(stationIdFromURL);\r\n      if (stationNameFromURL) setStationName(stationNameFromURL);\r\n\r\n      // N·∫øu l√† URL ‚Üí ng·ª´ng lu√¥n (ƒë·ªß d·ªØ li·ªáu r·ªìi)\r\n      if (companyIdFromURL) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // --- N·∫øu l√† Admin ---\r\n      if (role === \"Admin\") {\r\n        setCompanyId(\"admin\");\r\n        setCompanyName(\"Administrator\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // --- N·∫øu l√† company_owner ho·∫∑c private_provider ---\r\n      if (companyIdFromAuth && [\"company_owner\", \"private_provider\"].includes(role || \"\")) {\r\n        setCompanyId(companyIdFromAuth);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // --- N·∫øu l√† staff ho·∫∑c technician ---\r\n      if (user?.uid && [\"staff\", \"technician\"].includes(role || \"\")) {\r\n        const staffSnap = await getDocs(query(collection(db, \"staffs\"), where(\"userId\", \"==\", user.uid)));\r\n        if (!staffSnap.empty) {\r\n          const staffData = staffSnap.docs[0].data();\r\n          setCompanyId(staffData.companyId || null);\r\n          setStationId(staffData.stationId || null);\r\n        }\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n\r\n    detect();\r\n  }, [user?.uid, companyIdFromURL, companyNameFromURL, companyIdFromAuth, stationIdFromURL, stationNameFromURL, role]);\r\n\r\n  // --- L·∫•y CompanyName n·∫øu ch∆∞a c√≥ ---\r\n  useEffect(() => {\r\n    if (!companyId || companyNameFromURL || companyId === \"admin\") return;\r\n\r\n    const fetchCompanyName = async () => {\r\n      const snap = await getDoc(doc(db, \"rentalCompanies\", companyId));\r\n      if (snap.exists()) {\r\n        setCompanyName(snap.data().name || \"\");\r\n      }\r\n    };\r\n\r\n    fetchCompanyName();\r\n  }, [companyId, companyNameFromURL]);\r\n\r\n  // --- L·∫•y StationName n·∫øu ch∆∞a c√≥ ---\r\n  useEffect(() => {\r\n    if (!stationId || stationNameFromURL) return;\r\n\r\n    const fetchStationName = async () => {\r\n      const snap = await getDoc(doc(db, \"rentalStations\", stationId));\r\n      if (snap.exists()) {\r\n        setStationName(snap.data().name || \"\");\r\n      }\r\n    };\r\n\r\n    fetchStationName();\r\n  }, [stationId, stationNameFromURL]);\r\n\r\n  return {\r\n    companyId,\r\n    companyName,\r\n    stationId,\r\n    stationName,\r\n    loading,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2879, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/src/components/return/SwitchBikeModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/src/components/ui/dialog';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { ScrollArea } from '@/src/components/ui/scroll-area';\r\nimport { Input } from '@/src/components/ui/input';\r\nimport { collection, getDocs, query, where } from 'firebase/firestore';\r\nimport { db } from '@/src/firebaseConfig';\r\nimport { useCompanyAndStation } from '@/src/hooks/useCompanyAndStation';\r\n\r\ninterface Bike {\r\n  id: string;\r\n  vin: string;\r\n  plate: string;\r\n  odo: number;\r\n  note: string;\r\n}\r\n\r\ninterface SwitchBikeModalProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onConfirm: (selectedBike: Bike) => void;\r\n}\r\n\r\nexport default function SwitchBikeModal({ open, onClose, onConfirm }: SwitchBikeModalProps) {\r\n  const [selectedBike, setSelectedBike] = useState<Bike | null>(null);\r\n  const [availableBikes, setAvailableBikes] = useState<Bike[]>([]);\r\n  const [search, setSearch] = useState('');\r\n  const { companyId, stationId } = useCompanyAndStation();\r\n\r\n  useEffect(() => {\r\n    const fetchBikes = async () => {\r\n      if (!companyId || !stationId) return;\r\n\r\n      const q = query(\r\n        collection(db, 'ebikes'),\r\n        where('companyId', '==', companyId),\r\n        where('stationId', '==', stationId),\r\n        where('status', '==', 'Available')\r\n      );\r\n      const snap = await getDocs(q);\r\n\r\n      const list: Bike[] = snap.docs\r\n        .map((doc) => {\r\n          const data = doc.data();\r\n          return {\r\n            id: doc.id,\r\n            vin: data.vehicleID || 'Unknown VIN',\r\n            plate: data.plateNumber || 'No Plate',\r\n            odo: data.odo || 0,\r\n            note: data.note || '',\r\n          };\r\n        })\r\n        .sort((a, b) => a.vin.localeCompare(b.vin));\r\n\r\n      setAvailableBikes(list);\r\n    };\r\n\r\n    if (open) fetchBikes();\r\n  }, [open, companyId, stationId]);\r\n\r\n  const handleConfirm = () => {\r\n    if (!selectedBike) return;\r\n    onConfirm(selectedBike);\r\n    onClose();\r\n  };\r\n\r\n  const filteredBikes = availableBikes.filter(\r\n    (bike) =>\r\n      bike.vin.toLowerCase().includes(search.toLowerCase()) ||\r\n      bike.plate.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-xl font-semibold\">Switch to Another Vehicle</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"mb-2\">\r\n          <Input\r\n            placeholder=\"Search by VIN or Plate Number\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <ScrollArea className=\"h-60 space-y-4 pr-2 mt-2\">\r\n          {filteredBikes.map((bike) => (\r\n            <div\r\n              key={bike.id}\r\n              className={`border p-4 rounded-xl cursor-pointer transition-all ${\r\n                selectedBike?.id === bike.id ? 'border-[#00d289] bg-[#e6fff6]' : 'hover:bg-gray-50'\r\n              }`}\r\n              onClick={() => setSelectedBike(bike)}\r\n            >\r\n              <div className=\"font-semibold text-sm\">{bike.vin} - {bike.plate}</div>\r\n              <div className=\"text-xs text-gray-600\">üìè {bike.odo.toLocaleString()} km | üìù {bike.note}</div>\r\n            </div>\r\n          ))}\r\n        </ScrollArea>\r\n\r\n        <div className=\"flex justify-end mt-6 gap-3\">\r\n          <Button variant=\"outline\" onClick={onClose}>Cancel</Button>\r\n          <Button\r\n            onClick={handleConfirm}\r\n            disabled={!selectedBike}\r\n            className=\"bg-[#00d289] hover:bg-[#00b67a] text-white\"\r\n          >\r\n            Confirm\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3082, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1.%202025/12.%20Code%20website/ebikerental/app/return/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport {\r\n  collection,\r\n  query,\r\n  where,\r\n  getDocs,\r\n  getDoc,\r\n  Timestamp,\r\n  updateDoc,\r\n  doc,\r\n} from 'firebase/firestore';\r\nimport { db } from '@/src/firebaseConfig';\r\nimport Header from '@/src/components/landingpage/Header';\r\nimport Footer from '@/src/components/landingpage/Footer';\r\nimport { Card, CardContent } from '@/src/components/ui/card';\r\nimport { Button } from '@/src/components/ui/button';\r\nimport { Input } from '@/src/components/ui/input';\r\nimport ExtendRentalModal from '@/src/components/return/ExtendRentalModal';\r\nimport SwitchBikeModal from '@/src/components/return/SwitchBikeModal';\r\nimport {\r\n  Bike,\r\n  User,\r\n  Calendar,\r\n  PhoneCall,\r\n  Coins,\r\n  CheckCircle,\r\n  AlertCircle,\r\n} from 'lucide-react';\r\nimport { Booking } from '@/src/lib/booking/BookingTypes';\r\nimport { format, differenceInDays } from 'date-fns';\r\nimport NotificationDialog, { NotificationType } from '@/src/components/ui/NotificationDialog';\r\n\r\nconst [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n\r\n\r\nexport default function ReturnBikePage() {\r\n  const [rentalInfo, setRentalInfo] = useState<any>(null);\r\n  const [extendOpen, setExtendOpen] = useState(false);\r\n  const [switchOpen, setSwitchOpen] = useState(false);\r\n  const [vehicleIdInput, setVehicleIdInput] = useState('');\r\n  const [bookingDocId, setBookingDocId] = useState<string | null>(null);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [suggestions, setSuggestions] = useState<Booking[]>([]);\r\n\r\n  // T√¨m ƒë∆°n thu√™\r\n  useEffect(() => {\r\n    const fetchSuggestions = async () => {\r\n      if (vehicleIdInput.length < 2) return setSuggestions([]);\r\n\r\n      const q = query(collection(db, 'bookings'), where('bookingStatus', '==', 'confirmed'));\r\n      const snap = await getDocs(q);\r\n      const matches: Booking[] = [];\r\n\r\n      snap.forEach((docSnap) => {\r\n        const data = docSnap.data() as Booking;\r\n        if (\r\n          data.vin?.toLowerCase().includes(vehicleIdInput.toLowerCase()) ||\r\n          data.licensePlate?.toLowerCase().includes(vehicleIdInput.toLowerCase())\r\n        ) {\r\n          matches.push({ ...data, id: docSnap.id });\r\n        }\r\n      });\r\n\r\n      setSuggestions(matches);\r\n    };\r\n\r\n    fetchSuggestions();\r\n  }, [vehicleIdInput]);\r\n\r\n  const handleSelectSuggestion = (booking: Booking) => {\r\n    setRentalInfo(booking);\r\n    setBookingDocId(booking.id);\r\n    setSuggestions([]);\r\n  };\r\n\r\n  // üîÅ N·∫øu ch∆∞a c√≥ pricePerDay ‚Üí l·∫•y t·ª´ ebikes\r\n  useEffect(() => {\r\n    const fetchPriceFromEbike = async () => {\r\n      if (!rentalInfo?.vin || rentalInfo.pricePerDay) return;\r\n\r\n      const q = query(collection(db, 'ebikes'), where('vehicleID', '==', rentalInfo.vin));\r\n      const snap = await getDocs(q);\r\n      if (!snap.empty) {\r\n        const ebike = snap.docs[0].data();\r\n        if (ebike.pricePerDay) {\r\n          setRentalInfo((prev: any) => ({\r\n            ...prev,\r\n            pricePerDay: ebike.pricePerDay,\r\n          }));\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchPriceFromEbike();\r\n  }, [rentalInfo?.vin]);\r\n\r\n  const handleReturnBike = async () => {\r\n    if (!bookingDocId || !rentalInfo) return;\r\n\r\n    if (rentalInfo.remainingBalance > 0) {\r\n      // N·∫øu c√≤n d∆∞ n·ª£ ‚Üí h·ªèi x√°c nh·∫≠n\r\n      setShowConfirmDialog(true);\r\n      return;\r\n    }\r\n\r\n    await processReturn(); // tr·∫£ xe b√¨nh th∆∞·ªùng\r\n  };\r\n\r\n  const processReturn = async () => {\r\n  if (!bookingDocId || !rentalInfo) return;\r\n\r\n  const bookingRef = doc(db, 'bookings', bookingDocId);\r\n  await updateDoc(bookingRef, {\r\n    bookingStatus: 'completed',\r\n    updatedAt: Timestamp.now(),\r\n    statusComment: `Returned on ${format(new Date(), 'dd/MM/yyyy HH:mm')}`,\r\n  });\r\n\r\n  const ebikeQuery = query(collection(db, 'ebikes'), where('vehicleID', '==', rentalInfo.vin));\r\n  const ebikeSnap = await getDocs(ebikeQuery);\r\n  if (!ebikeSnap.empty) {\r\n    const ebikeDoc = ebikeSnap.docs[0];\r\n    await updateDoc(doc(db, 'ebikes', ebikeDoc.id), {\r\n      status: 'available',\r\n      updatedAt: Timestamp.now(),\r\n    });\r\n  }\r\n\r\n  setSuccessMessage('Bike has been successfully returned and marked as available.');\r\n  setRentalInfo(null);\r\n  setBookingDocId(null);\r\n  setVehicleIdInput('');\r\n  setShowConfirmDialog(false); // ƒë√≥ng dialog n·∫øu c√≥\r\n};\r\n\r\n\r\n  const completeReturn = async () => {\r\n    const bookingRef = doc(db, 'bookings', bookingDocId!);\r\n    await updateDoc(bookingRef, {\r\n      bookingStatus: 'completed',\r\n      updatedAt: Timestamp.now(),\r\n      statusComment: `Returned on ${format(new Date(), 'dd/MM/yyyy HH:mm')}`,\r\n    });\r\n\r\n    const ebikeQuery = query(collection(db, 'ebikes'), where('vehicleID', '==', rentalInfo.vin));\r\n    const ebikeSnap = await getDocs(ebikeQuery);\r\n    if (!ebikeSnap.empty) {\r\n      const ebikeDoc = ebikeSnap.docs[0];\r\n      await updateDoc(doc(db, 'ebikes', ebikeDoc.id), {\r\n        status: 'available',\r\n        updatedAt: Timestamp.now(),\r\n      });\r\n    }\r\n\r\n    setSuccessMessage('Bike has been successfully returned and marked as available.');\r\n    setRentalInfo(null);\r\n    setBookingDocId(null);\r\n    setVehicleIdInput('');\r\n  };\r\n\r\n  const handleExtendConfirm = async (newEndTime: Timestamp) => {\r\n    if (!rentalInfo?.id || !rentalInfo?.rentalStartDate) return;\r\n\r\n    const bookingRef = doc(db, 'bookings', rentalInfo.id);\r\n    const startDate = rentalInfo.rentalStartDate instanceof Timestamp\r\n      ? rentalInfo.rentalStartDate.toDate()\r\n      : new Date(rentalInfo.rentalStartDate);\r\n\r\n    const endDate = newEndTime.toDate();\r\n    const rentalDays = Math.max(1, differenceInDays(endDate, startDate)) + 1;\r\n    const pricePerDay = rentalInfo.pricePerDay || 0;\r\n    const deposit = rentalInfo.deposit || 0;\r\n    const totalAmount = rentalDays * pricePerDay;\r\n    const remainingBalance = totalAmount - deposit;\r\n\r\n    await updateDoc(bookingRef, {\r\n      rentalEndDate: newEndTime,\r\n      rentalDays,\r\n      totalAmount,\r\n      remainingBalance,\r\n      updatedAt: Timestamp.now(),\r\n      statusComment: `Rental extended to ${format(endDate, 'dd/MM/yyyy HH:mm')}`,\r\n    });\r\n\r\n    const updatedSnap = await getDoc(bookingRef);\r\n    if (updatedSnap.exists()) {\r\n      setRentalInfo({ ...updatedSnap.data(), id: rentalInfo.id });\r\n    }\r\n\r\n    setSuccessMessage('Rental time successfully extended.');\r\n    setExtendOpen(false);\r\n  };\r\n\r\n  const formatDateTime = (date: any, hourStr?: string) => {\r\n    if (!date) return '-';\r\n    let dateObj: Date;\r\n    if (date instanceof Timestamp) {\r\n      dateObj = date.toDate();\r\n    } else {\r\n      dateObj = new Date(date);\r\n    }\r\n\r\n    if (hourStr) {\r\n      const [hour, minute] = hourStr.split(':').map(Number);\r\n      dateObj.setHours(hour || 0, minute || 0);\r\n    }\r\n\r\n    return format(dateObj, 'dd/MM/yyyy HH:mm');\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col bg-gray-100\">\r\n      <Header />\r\n      <main className=\"flex-1 py-10 px-4\">\r\n        <h1 className=\"text-3xl font-bold text-center mb-8\">Return Vehicle</h1>\r\n\r\n        <div className=\"max-w-2xl mx-auto space-y-8\">\r\n          <Card className=\"shadow-md rounded-xl\">\r\n            <CardContent className=\"p-5 space-y-4\">\r\n              <h2 className=\"text-xl font-semibold flex items-center gap-2\">\r\n                <Bike className=\"w-5 h-5 text-[#00d289]\" /> Search by VIN or Plate Number\r\n              </h2>\r\n              <Input\r\n                placeholder=\"Type at least 2 characters...\"\r\n                value={vehicleIdInput}\r\n                onChange={(e) => setVehicleIdInput(e.target.value)}\r\n              />\r\n              {suggestions.length > 0 && (\r\n                <ul className=\"bg-white border shadow rounded max-h-60 overflow-y-auto\">\r\n                  {suggestions.map((sug) => (\r\n                    <li\r\n                      key={sug.id}\r\n                      className=\"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm\"\r\n                      onClick={() => handleSelectSuggestion(sug)}\r\n                    >\r\n                      {sug.vin} {sug.licensePlate ? `- ${sug.licensePlate}` : ''}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n              {successMessage && (\r\n                <div className=\"text-green-600 flex items-center gap-1 text-sm mt-2\">\r\n                  <CheckCircle className=\"w-4 h-4\" /> {successMessage}\r\n                </div>\r\n              )}\r\n              {errorMessage && (\r\n                <div className=\"text-red-600 flex items-center gap-1 text-sm mt-2\">\r\n                  <AlertCircle className=\"w-4 h-4\" /> {errorMessage}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {rentalInfo && (\r\n            <Card className=\"shadow-md rounded-xl\">\r\n              <CardContent className=\"p-5 space-y-4 text-sm text-gray-800\">\r\n                <div className=\"flex gap-2\"><User className=\"w-4 h-4 text-[#00d289]\" /> <strong>Renter:</strong> {rentalInfo.fullName}</div>\r\n                <div className=\"flex gap-2\"><PhoneCall className=\"w-4 h-4 text-[#00d289]\" /> <strong>Phone:</strong> {rentalInfo.phone}</div>\r\n                <div className=\"flex gap-2\"><span className=\"text-[#00d289]\">üîß</span> <strong>Vehicle ID:</strong> {rentalInfo.vin}</div>\r\n                <div className=\"flex gap-2\"><span className=\"text-[#00d289]\">ü™™</span> <strong>Plate Number:</strong> {rentalInfo.licensePlate}</div>\r\n                <div className=\"flex gap-2\"><Calendar className=\"w-4 h-4 text-[#00d289]\" /> <strong>Start:</strong> {formatDateTime(rentalInfo.rentalStartDate, rentalInfo.rentalStartHour)}</div>\r\n                <div className=\"flex gap-2\"><Calendar className=\"w-4 h-4 text-[#00d289]\" /> <strong>End:</strong> {formatDateTime(rentalInfo.rentalEndDate)}</div>\r\n                <div className=\"flex gap-2\"><Coins className=\"w-4 h-4 text-[#00d289]\" /> <strong>Price / Day:</strong> {(rentalInfo.pricePerDay || 0).toLocaleString()}‚Ç´</div>\r\n                <div className=\"flex gap-2\"><Coins className=\"w-4 h-4 text-[#00d289]\" /> <strong>Total:</strong> {rentalInfo.totalAmount?.toLocaleString()}‚Ç´</div>\r\n                <div className=\"flex gap-2\"><Coins className=\"w-4 h-4 text-[#00d289]\" /> <strong>Deposit:</strong> {rentalInfo.deposit?.toLocaleString()}‚Ç´</div>\r\n                <div className=\"flex gap-2\"><Coins className=\"w-4 h-4 text-[#00d289]\" /> <strong>Remaining:</strong> {rentalInfo.remainingBalance?.toLocaleString()}‚Ç´</div>\r\n\r\n                <div className=\"flex justify-between flex-wrap mt-6 gap-2\">\r\n                  <Button variant=\"outline\" onClick={() => setExtendOpen(true)}>Extend Rental</Button>\r\n                  <Button variant=\"secondary\" onClick={() => setSwitchOpen(true)}>Switch Vehicle</Button>\r\n                  <Button variant=\"default\" onClick={handleReturnBike}>Return Vehicle</Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {rentalInfo && (\r\n            <ExtendRentalModal\r\n              open={extendOpen}\r\n              onClose={() => setExtendOpen(false)}\r\n              onConfirm={handleExtendConfirm}\r\n              rentalStartDate={rentalInfo.rentalStartDate}\r\n              oldRentalEndDate={rentalInfo.rentalEndDate}\r\n              pricePerDay={rentalInfo.pricePerDay || 0}\r\n              deposit={rentalInfo.deposit || 0}\r\n            />\r\n          )}\r\n\r\n          <SwitchBikeModal\r\n            open={switchOpen}\r\n            onClose={() => setSwitchOpen(false)}\r\n            onConfirm={() => {}}\r\n          />\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}